parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"oTd5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.domFactory=void 0;const e=()=>{let e=null;return{bindEventListeners:e=>{Object.keys(e).forEach(t=>e[t]())},bindStyles:(e,t)=>{if(!t||!e)return;if(document.querySelector(`style#${e}`))return;const r=document.createElement("style");r.setAttribute("id",e),r.textContent=t,document.head.insertAdjacentElement("beforeend",r)},setContext:t=>e=t,queryAll:t=>Array.from(e.querySelectorAll(t)),query:t=>e.querySelector(t),on:(e,t,r)=>{t.forEach(t=>{t.addEventListener(e,((e,t)=>{let r;return o=>{clearTimeout(r),r=setTimeout(()=>e(o),t)}})(r,200))})}}};exports.domFactory=e;
},{}],"aLQw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.stateFactory=void 0;const e=()=>{const e={},t=[],s=e=>{if(e)return JSON.parse(JSON.stringify(e))},r=t=>Object.assign(e,s(t));return{watch:e=>{t.push(e)},merge:r,set:e=>{(e=>{const r=s(e);t.forEach(e=>{e(r)})})(r(e))},get:()=>s(e),logger:()=>console.log(e)}};exports.stateFactory=e;
},{}],"DAu9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.componentFactory=void 0;var e=require("./dom.factory.js"),t=require("./stateFactory.js");const r=()=>{const r=(e,r)=>{const o=(0,t.stateFactory)(),s=(e=>{let t={},r="";return e.dataset&&e.dataset.props&&(t=JSON.parse(e.dataset.props.replace(/\'/g,'"'))||{}),e.dataset&&e.dataset.text&&(r=e.dataset.text||""),{object:t,text:r}})(r);o.merge(s);const{set:n,get:a,watch:c}=o;return{set:n,get:a,watch:c}},o=(e,t)=>{t&&e&&t.hasOwnProperty(e)&&"function"==typeof t[e]&&t[e]()},s=(e,t,r)=>{const s=e().tagName;t.forEach(t=>{t.querySelectorAll(s).forEach(t=>{const r=a(e,t,t);o("beforeOnInit",r.hooks),r.render(),o("afterOnInit",r.hooks)})})},n=t=>{const{tagName:r,element:n,template:a,events:c,props:i,state:p,hooks:d,methods:l,styles:h}=t,u=i.get?i.get():i,m=p.get?p.get():p,y=(0,e.domFactory)();n.dataset.props=JSON.stringify(u).replace(/\"/g,"'"),o("beforeOnRender",d),n.innerHTML=a({props:u,state:m,methods:l}),y.setContext(n),y.bindEventListeners(c),y.bindStyles(r,(e=>e&&"function"==typeof e?e():"")(h)),o("afterOnRender",d),(e=>!!e.hasOwnProperty("children")&&!!Object.keys(e.children).length)(t)&&(e=>{if(!e||!e.children)return;Object.keys(e.children).forEach(t=>{s(e.children[t],[e.element])})})(t)},a=(o,s,a)=>{const c=o(),i=o.name,p=(e=>e().tagName.split("-").map((e,t)=>t>0?`${e.charAt(0).toUpperCase()}${e.slice(1)}`:e).join(""))(o),d=s,l=a,h=(e=>{const r=(0,t.stateFactory)();r.merge(e.state);const{set:o,get:s,watch:n,logger:a}=r;return{set:o,get:s,watch:n,logger:a}})(c),u=r(0,d),m=((e,t,r,o)=>e&&e.methods&&"function"==typeof e.methods?e.methods({state:t,props:r,elm:o}):{})(c,h,u,d),y=((t,r,o,s)=>{if(!t||!t.directives||"function"!=typeof t.directives)return{};const n=(0,e.domFactory)();return n.setContext(s),t.directives({state:r,props:o,elm:s,query:n.query,queryAll:n.queryAll,on:n.on})})(c,h,u,d),f=((t,r,o,s)=>{if(!t||!t.events||"function"!=typeof t.events)return{};const n=(0,e.domFactory)();return n.setContext(s),t.events({on:n.on,query:n.query,queryAll:n.queryAll,methods:r,directives:o})})(c,m,y,d),g=((e,t,r,o)=>e&&e.hooks&&"function"==typeof e.hooks?e.hooks({state:t,props:r,methods:o}):null)(c,h,u,m),v=(e=>e&&e.children&&"function"==typeof e.children?e.children():{})(c),O={...c,appName:i,state:h,props:u,tagName:p,element:d,children:v,methods:m,events:f,hooks:g,parentComponentElement:l,render:()=>n(O)};return O.element.setAttribute("uId",Math.random().toString().slice(2)),h.watch(e=>{Object.assign(O.state,e),n(O)}),u.watch(e=>{Object.assign(O.props,e),n(O)}),O};return{create:a,render:s}};exports.componentFactory=r;
},{"./dom.factory.js":"oTd5","./stateFactory.js":"aLQw"}],"i9ld":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.routerFactory=void 0;var t=require("./component.factory.js");const e=()=>{let e={},o=null;const n=(0,t.componentFactory)(),r=()=>{const t=e.firstRoute.hash;(t=>window.location.hash=t)(t),c(t)},c=t=>{const r=(t=>{const{defaultRoute:o,otherRoutes:n}=e,r=n.find(e=>{if(e.hashExp.test(t))return e});return r||o})(t);(t=>o.innerHTML=t.outerHTML)((t=>document.createElement(t))(r.component().tagName)),n.render(r.component,[o])};return{init:()=>{if(!(()=>!!e&&!!Object.keys(e).length)())return;const t=(()=>window.location.hash)();o=document.querySelector("router-view"),t?c(t):r(),window.onhashchange=(()=>{const t=window.location.hash;c(t)})},setRoutes:t=>e=t}};exports.routerFactory=e;
},{"./component.factory.js":"DAu9"}],"W0rM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.r9x=void 0;var e=require("./component.factory.js"),r=require("./router.factory.js");const t=()=>{let t=null,o=null;const n=(0,e.componentFactory)(),s=(0,r.routerFactory)();return{use:e=>{const{main:r,routes:n}=e;t=r,o=n},init:()=>{n.render(t,[document.body]),s.setRoutes(o),s.init()}}};exports.r9x=t;
},{"./component.factory.js":"DAu9","./router.factory.js":"i9ld"}],"LU5T":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.observerFactory=void 0;const e=e=>{let r=[];return{subscribe:e=>{if("function"!=typeof e)throw new Error("The provided observer is not a function and must be.");return r.push(e),e},unsubscribe:e=>{r=r.filter(r=>r!==e)},update:o=>{o(e),(e=>{r.forEach(r=>r(e))})(e)},get:()=>e,logger:()=>console.log(r)}};exports.observerFactory=e;
},{}],"GOCc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"r9x",{enumerable:!0,get:function(){return e.r9x}}),Object.defineProperty(exports,"storeFactory",{enumerable:!0,get:function(){return r.observerFactory}});var e=require("./src/r9x.factory"),r=require("./src/observer.factory");
},{"./src/r9x.factory":"W0rM","./src/observer.factory":"LU5T"}],"SYVJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(){return"\n    app-header .header-wrapper {\n        display:block;\n        float:left;\n        width:100%;\n        padding:15px;\n        border-bottom:1px #ebebeb solid;\n        background:#15171b;\n    }\n\n    app-header .container {\n        display:block;\n        width:100%;\n        max-width:1180px;\n        margin:0 auto;\n    }\n\n    app-header .container::after {\n        display:block;\n        width:100%;\n        clear:both;\n    }\n\n    app-header .grid {\n        display:block;\n        float:left;\n    }\n\n    app-header .grid.logo {\n        float:left;\n        width:150px;      \n    }\n\n    app-header .grid.menu {\n        float:right;\n        width: calc(100% - 150px)\n    }\n"};exports.default=n;
},{}],"v7kW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){e.props,e.state;return'\n    <div class="header-wrapper">\n        <div class="container">\n            <div class="grid logo">\n                <app-logo></app-logo>\n            </div>\n            <div class="grid menu">\n                <app-menu></app-menu>\n            </div>            \n        </div>\n    </div>\n'};exports.default=e;
},{}],"oDKx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(){return"\n    app-menu .menu-wrapper {\n        display:block;\n        float:left;\n        width:100%;\n        padding:15px;\n        height:45px;\n    }\n\n    app-menu .list,\n    app-menu .item,\n    app-menu .link {\n        display:block;\n    }\n\n    app-menu .list,\n    app-menu .link {\n        float:left;\n    }\n\n    app-menu .item {\n        display:inline-block\n    }\n\n    app-menu .list {\n        width:100%;\n        text-align:right;\n    }\n\n    app-menu .link {\n        padding-left:15px;\n        text-decoration:none;\n        color:#848d9f;\n        font-size: .875em;\n        transition: .2s ease-in;\n        outline:0\n    }\n\n    app-menu .link:hover {\n        color:#9c29dc\n    }\n"};exports.default=n;
},{}],"tXkA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(n){n.props;var e=n.state;return'\n    <div class="menu-wrapper">\n        <ul class="list">\n        '.concat(e.menuList.map(function(n){return'\n            <li class="item">\n                <a href="'.concat(n.link,'" class="link">').concat(n.label,"</a>\n            </li>\n        ")}).join(""),"\n        </ul>\n    </div>\n")};exports.default=n;
},{}],"zuvt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.appMenu=void 0;var e=l(require("./appMenu.styles")),t=l(require("./appMenu.template"));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){return{tagName:"app-menu",state:{menuList:[{label:"Introdução",link:"#/"},{label:"Store",link:"#/store"},{label:"Tutorial",link:"#/tutorial"},{label:"Github",link:"#/github"}]},styles:e.default,template:t.default}};exports.appMenu=u;
},{"./appMenu.styles":"oDKx","./appMenu.template":"tXkA"}],"kuOT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){return"\n    .logo-wrapper {\n        display:block;\n        float:left;\n        width:100%;\n        height:45px;\n        line-height:45px;\n        text-align:center;\n        color: #9c29dc;\n        font-weight:bold\n    }\n\n    .logo-wrapper i {\n        font-size: .9em\n    }\n"};exports.default=e;
},{}],"Hrum":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=function(s){s.props,s.state;return'\n    <div class="logo-wrapper">\n        <i class="las la-sync"></i> <span class="title">R9X</span>\n    </div>\n'};exports.default=s;
},{}],"AJhN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.appLogo=void 0;var e=o(require("./appLogo.styles")),t=o(require("./appLogo.template"));function o(e){return e&&e.__esModule?e:{default:e}}var p=function(){return{tagName:"app-logo",styles:e.default,template:t.default}};exports.appLogo=p;
},{"./appLogo.styles":"kuOT","./appLogo.template":"Hrum"}],"nuBi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.appHeader=void 0;var e=t(require("./appHeader.styles")),p=t(require("./appHeader.template")),a=require("../appMenu/appMenu.component"),r=require("../appLogo/appLogo.component");function t(e){return e&&e.__esModule?e:{default:e}}var o=function(){return{tagName:"app-header",styles:e.default,template:p.default,children:function(){return{appMenu:a.appMenu,appLogo:r.appLogo}}}};exports.appHeader=o;
},{"./appHeader.styles":"SYVJ","./appHeader.template":"v7kW","../appMenu/appMenu.component":"zuvt","../appLogo/appLogo.component":"AJhN"}],"WjgU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.appMain=void 0;var e=require("./appHeader/appHeader.component"),n=function(){return{tagName:"app-main",template:function(e){e.state,e.props;return'\n            <div class="app-main-wrapper">\n                <app-header></app-header>\n                <router-view></router-view>\n            </div>\n        '},styles:function(){return"\n\n           app-main {\n            display: block;\n            float: left;\n            width: 100%;               \n           }\n        "},hooks:function(e){e.state;return{afterOnInit:function(){}}},children:function(){return{appHeader:e.appHeader}}}};exports.appMain=n;
},{"./appHeader/appHeader.component":"nuBi"}],"UIU6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){e.props;var t=e.state;e.methods,t.sections;return'\n    <div class="home-wrapper">\n        <div class="container">\n            <app-view data-props="{\'section\':\'introduction\'}"></app-view>\n        </div>\n\n    </div>\n'};exports.default=e;
},{}],"DpH1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(){return"\n    app-home .home-wrapper {\n        display:block;\n        float:left;\n        width:100%\n    }\n\n    app-home .container {\n        display:block;\n        width:100%;\n        max-width:1180px;\n        margin:0 auto;\n        padding:15px;\n    }\n\n    app-home .container::after {\n        content:'';\n        display:block;\n        width:100%;\n        clear:both;\n    }\n\n    app-home .tagline {\n        display: block;\n        float: left;\n        width: 100%;\n        padding: 15px;\n        margin: 15px 0;\n        border-radius: 4px;\n        font-size: .875em;\n        color: #667185;\n        background: #f9f9f9;\n        text-transform: uppercase;\n        font-weight: 900;\n    }\n\n    app-home .paragraph {\n        display:block;\n        float:left;\n        width:100%;\n        padding:15px 0;\n        line-height:1.5em;\n        font-size: 1.2em;\n        color:#667185;\n    }\n"};exports.default=n;
},{}],"iz0v":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.store=void 0;var e=require("r9x_js"),o=(0,e.storeFactory)({introduction:{sections:[{title:"Apresentação",tagline:"R9X Interfaces reativas com factory functions.",articles:[{title:"Para que serve r9x?",paragraphs:[{text:"Frameworks reduzem muito pouco o tempo de desenvolvimento de projetos para produção. Por isso, R9X foca na organização do código e oferece formas simples de reagir a mudanças no estado da aplicação. Acreditamos que esse é o ponto chave para acelerar o desenvolvimento de qualquer aplicação."}]},{title:"Objetivo",paragraphs:[{text:"O objetivo desse artigo é apresentar de forma clara os recursos fornecidos por r9x para desenvolvimento de interfaces reativas. Por isso, é de suma importância que você leia essa documentação para entender os recursos existentes na biblioteca."}]}]},{title:"Instalando R9X",tagline:"r9x está nos repositórios do npm é fácil instalar.",articles:[{title:"Versões",paragraphs:[{text:"Com o comando abaixo você instala a versão mais recente da biblioteca.",code:"npm install --save r9x_js"}]}]},{title:"Arquitetura",tagline:"Estruturar um projeto é super simples.",articles:[{title:"Montando a base de um projeto",paragraphs:[{text:"O código abaixo define a base de um projeto com rotas de navegação.",code:"\nimport { r9x } from 'r9x_js'\n\nimport { appMain as main } from './src/components/appMain.component'\nimport {appHome} from './src/components/appHome/appHome.component'\nimport { appNotFound } from './src/components/appNotFound.component'\n\nconst routes = {\n    firstRoute: { hash: '#/', component: appHome },\n    defaultRoute: { hash: '#/404', component: appNotFound },\n    otherRoutes: [\n        { hashExp: /^#/$/, component: appHome },\n    ]\n}\n\nconst app = r9x()\n\napp.use({\n    main,\n    routes,\n})\n\napp.init()"},{text:"Observe o trecho abaixo:",code:"\nconst routes = {\n    firstRoute: { hash: '#/', component: appHome },\n    defaultRoute: { hash: '#/404', component: appNotFound },\n    otherRoutes: [\n        { hashExp: /^#/$/, component: appHome },\n    ]\n}                            \n                            "},{text:"Temos aqui a definição das rotas, onde firstRoute define a rota que será carregado assim que a aplicação inicializar, seguido por defaultRoute que define o componente a ser carregado se uma rota não registrada for acessada e logo depois temos otherRoutes que fornece os demais componentes para cada roda de navegação registrada."},{text:"firstRoute e defaultRoute possuem a propriedade hash que difere da propriedade hashExp de otherRoutes. Isso acontece porque no modelo de roteador padrão, as rotas iniciais precisam ser strings simples enquanto em otherRoutes o roteador utiliza expressões regulares para identificar o hash acessado no navegador para então carregar o componente definido para a rota."},{text:"R9X utiliza o padrão factory para quase tudo, inclusive a função de inicialização r9x() é uma factory que retorna um objeto contendo o método use(), utilizado para definir o componente principal e as rotas e o método init para inicializar a aplicação. Veja abaixo:",code:"\n                            \napp.use({\n    main,\n    routes,\n})\n\napp.init()                            \n                            "}]}]},{title:"Fabricando componentes",tagline:"Componentes são apenas factory functions",articles:[{title:"Compontes como funções fábricas",paragraphs:[{text:"para R9X componentes são apenas funções fábricas que retornam recursos predefinidos. Veja abaixo a criação de um componente.",code:"\nconst appHelloWord = () => {\n\n    const state = {\n        text: 'hello World!'\n    }\n\n    const template = ({props, state}) => {\n        return /*html*/ `<h1> ${state.text} </h1>`\n    }\n\n    const styles = () => /*css*/ `\n        h1 { color: blue }\n    `\n\n    return { state, template, styles }\n}                            \n                            "}]},{title:"State",paragraphs:[{text:"Observe o trecho:",code:"\n    const state = {\n        text: 'hello World!'\n    }                            \n                            "},{text:"Esse é o state que contém os dados locais do componente e qualquer alteração na propriedade text do state fará com que o template seja atualizado."}]},{title:"Template",paragraphs:[{text:"R9X utiliza template literals para marcar o html. Dessa forma reduz complexidade e elimina a necessidade de criar diretivas acionadas diretamente no template para proporcionar interação e realizar transformações ou validações nos dados do compoenente. Segue abaixo o trecho de código que representa o template do componente.",code:"\n    const template = ({props, state}) => {\n        return /*html*/ `<h1> ${state.text} </h1>`\n    }                            \n                            "},{text:"Observe que nesse caso, o template tem acesso a props e state. Props, acessa as propriedades reativas passadas pela tag do componente, enquanto state acessa as propriedades do state.",code:"\n<app-hello-world data-props=\"{'text':'hello world'}\"></app-hello-world>                            \n                            "},{text:"Dessa forma o template pode obter o texto a ser exibido através das propriedades reativas ao invés do state."},{code:"\n    const template = ({props, state}) => {\n        return /*html*/ `<h1> ${props.object.text} </h1>`\n    }                            \n                            "},{text:"A propriedade methods do componente também está acessível para o template. Por tanto, é possível realizar a transformação e validação de dados acessando uma função previamente definida caso seja necessário.",code:"\n    const template = ({methods}) => {\n        return /*html*/ `<h1> ${methods.getText()} </h1>`\n    }                               \n                            "}]},{title:"Estilos CSS",paragraphs:[{text:"Os estilos css são retornado pela função styles e assim que o componente é rederizado, são aplicados para estilizar as tags do template.",code:"\n    const styles = () => /*css*/ `\n        h1 { color: blue }\n    `                            \n                            "}]}]},{title:"Methods, Events e Hooks",tagline:"Definindo comportamentos com eventos, hooks e methods",articles:[{title:"Methods",paragraphs:[{text:"Os métodos de um componente são apenas funções simples que executam alguma operação. Os métodos também podem acessar as propriedades reativas e o state do componente.",code:"\n\nconst appHelloWorld = ()  => {\n\n    //código omitido\n\n    const methods = ({props, state}) => ({\n\n        logger (...params) { \n            console.log(...params)\n        },\n\n        logPropText () {\n            const { text } = props.get()\n            console.log('Prop Text: ', text)\n        },\n\n        logStateText () {\n            const { text } = state.get()\n            console.log('State Text': text)\n        }\n\n    })\n\n    return {\n        //código omitido\n        methods\n    }\n}\n\n                            "},{text:"Observe que para obter a propriedade text tanto de props, quanto de state, foi utilizado uma função get disponibilizada pelo reator da biblioteca. O reator é o gerenciador de mutações que observa props e state para atualizar o template do componente se uma alteração nos dados ocorrer."},{text:"o reator ainda disponibiliza a propriedade set para realizar alterações nas propriedades reativas e no state do componente. Veja abaixo:",code:"\nconst appHelloWorld = () => {\n\n    //código omitido\n\n    const methods = ({props, state}) => ({\n\n        changeStateText = (value) => {\n            state.set({text:value})\n        },\n\n        changePropText = (value) => {\n            prop.set({text:value})\n        },\n\n    })\n\n    return {\n        //código omitido\n        methods\n    }    \n}                        \n                            "}]},{title:"Events",paragraphs:[{text:"É através dos events que o componente gerencia a interação do usuário da aplicação com o template do componente. Veja o exemplo:",code:"\nconst appHelloWorld = () => {\n\n    const state = {\n        text: 'Hello World'\n    }\n\n    const template = ({props, state}) => {\n        return /*html*/ `<h1> ${state.text} </h1>`\n    }    \n    \n    const styles = () => /*css*/ `\n        h1 { color: blue }\n    ` \n\n    //Bind de eventos\n\n    const events = ({on, query, methods}) => ({\n\n        onClickTitle () {\n            const titleElm = query('h1')\n            on('click', [titleElm], methods.logElement)\n        }\n    })\n\n    const methods = ({props, state}) => ({\n\n        logElement({target}) { console.log(target) }\n        \n    })\n\n\n}                    \n                    "},{text:"Events disponibiliza para os handlers 3 recursos, query, queryAll e on. Estas, são funções auxiliares onde query e queryAll retornam elementos html encontrados no contexto do componente. Já on, é utilizado para realizar o bind de eventos. A função on recebe 3 parametros."},{text:"1º - o nome do evento, 2º um array de elementos, 3º o ouvinte, função a ser executado quando o evento ocorrer.",code:"\n//código omitido\n\nconst events = ({on, query, methods}) => ({\n\n    onClickTitle () {\n        const titleElm = query('h1')\n        on('click', [titleElm], methods.logElement)\n    }\n})\n\n//código omitido    \n                            "},{text:"Observe acima que events também acessa o método logElement disponibilizado através da propriedade methods do componente."}]},{title:"Hooks",paragraphs:[{text:"Atualmente existem 4 rooks que podem ser utilizados para executar operações durante as fazes do ciclo de vida do componente. Esses hooks são beforeOnInit, afterOnInit, beforeOnRender e afterOnRender.",code:"\nconst appHelloWorld = () => {\n    \n    //código omitido\n\n    const hooks = () => ({\n        beforeOnInit () {\n            console.log('executa uma vez antes do componente ser inicializado')\n        },\n\n        afterOnInit () {\n            console.log('executa uma vez depois do componente ser inicializado')\n        },\n\n        beforeOnRender () {\n            console.log('executado sempre antes da renderização do componente ocorrer')\n        },\n\n        afterOnRender () {\n            console.log('executado sempre depois da renderização do componente ocorrer')\n        },\n    })\n\n    return { hooks }\n}                            \n                            "},{text:"Os hooks também acessam os métodos do componente.",code:"\nconst appHelloWorld = () => {\n    \n    //código omitido\n\n    const hooks = ({methods}) => ({\n        beforeOnInit () {\n            methods.logMessage('executa uma vez antes do componente ser inicializado')\n        },\n\n        afterOnInit () {\n            methods.logMessage('executa uma vez depois do componente ser inicializado')\n        },\n\n        beforeOnRender () {\n            methods.logMessage('executado sempre antes da renderização do componente ocorrer')\n        },\n\n        afterOnRender () {\n            methods.logMessage('executado sempre depois da renderização do componente ocorrer')\n        },\n    })\n\n    const methods = ({props, state}) => ({\n        \n        logMessage (text) {\n            console.log(text)\n        }\n\n    })\n\n    return { hooks, methods }\n}                             \n                            "}]}]},{title:"Conclusão!",tagline:"R9X é simples de aprender e aplicar.",articles:[{title:"Menos tempo estudando mais tempo produzindo.",paragraphs:[{text:"Bem, chegamos ao fim dessa introdução e acredite... Você já viu quase tudo que há para saber sobre R9X."},{text:"Se acha que isso ainda não é o suficiente para desenvolver interfaces reativas, te convido a seguir o tutorial disponível aqui nesse site. Ele vai te convencer!"},{text:"Antes de ir para o tutorial, seria interessante ler a sessão store. O conteúdo disposto nela vai te ajudar a entendender como os componentes podem compartilhar dados e reagir de acordo com as mutações desses dados."}]}]}]},store:{sections:[{title:"Store",tagline:"Observable Store, simples e eficiente.",articles:[{title:"Compartilhando dados observaveis",paragraphs:[{text:"Uma store de dados é apenas um objeto observável."},{text:"Para criar uma nova store, basta importar storeFactory e fornecer para a função fábrica o objeto de dados a ser observado.",code:"\nimport { storeFactory } from 'r9x_js'\n\nconst store = storeFactory({\n    title:'New Store'\n})\n\nexport { store }\n                                "}]},{title:"Reagindo a mutações",paragraphs:[{text:"Para reagir as mutações nos dados de uma store, um componente precisa se inscrever para ouvir suas mutações.",code:"\nimport { store } from 'another/place/store'\n\nconst appTitle = () => {\n\n    const state = store.get()\n\n    const template = ({props, state}) => {\n        return /*html*/ `<h1> ${state.title} </h1>`\n    }\n\n    const styles = () => /*css*/ `\n        h1 { color: blue }\n    ` \n\n    const hooks = () => ({\n\n        beforeOnInit () {\n            store.subscribe((payload) => {\n                state.set(payload)\n            })\n        }\n\n    })\n\n    return {\n        state,\n        template,\n        styles,\n        hooks\n    }\n}                                \n                                "},{text:"No trecho de código acima, temos várias coisas acontecendo. Mas, note que uma store foi importada dentro do arquivo do componente.",code:"\nimport { store } from 'another/place/store'\n\nconst appTitle () => { /*codigo omitido*/ }\n                                "},{text:"Em seguida, o componente obtem os dados da store e armazena no state local.",code:"\nimport { store } from 'another/place/store'\n\nconst appTitle () => { \n    \n    const state = store.get()\n\n    /*codigo omitido*/ \n\n}                                \n                                "},{text:"Observe que nas próximas linhas, o componente se inscreve para ouvir as mutações da store e reagir a elas aproveitando-se do hook beforeOnInit. Assim, sempre que a store for alterada, os state local e o template do componente serão atualizados.",code:"\nimport { store } from 'another/place/store'\n\nconst appTitle () => { \n    \n    const state = store.get()\n\n    /*codigo omitido*/ \n\n    const hooks = () => ({\n\n        beforeOnInit () {\n            store.subscribe((payload) => state.set(payload))\n        }\n\n    })\n    \n    /*codigo omitido*/\n\n}                                  \n                                "},{text:"Olhando com mais profundidade, você notará que o método subscribe da store recebe um callback. Esse callback será executado sempre que a store mudar. O mais interessante é que sempre que o callback é executado, o mesmo recebe os novos dados da store através do parametro payload. Dessa forma, através do metodo state.set() é possível atualizar os dados do state local do componente fazendo com que o mesmo atualize o seu template para exibir as informações atualizadas. Veja abaixo:",code:"\n/*Código omitido*/\nstore.subscribe((payload) => state.set(payload))\n/*Código omitido*/\n                                "}]}]},{title:"Conclusão",tagline:"Simplicidade é a palavra chave!",articles:[{title:"Justificando o padrão observable store",paragraphs:[{text:"R9X adota o padrão de dados observáveis para simplificar o processo de desenvolvimento de aplicações reais. Dessa forma, um componente pode se inscrever para ouvir mudanças somente nos dados que importam."},{text:'Bem isso é tudo sobre observable store. Mas, seria interessante ir para a próxima sessão "tutorial" para por em prática todos os recursos detalhados até esse ponto.'}]}]}]},tutorial:{sections:[{title:"Tutorial",tagline:"Aplicando r9x para construtir um gerenciador de locação de filmes.",articles:[{title:"Introdução",paragraphs:[{text:"Esse tutorial aborda a construção de um gerenciador de locação de filmes de forma direta, afim de otimizar o tempo necessário para construir o app e aprender r9x."},{text:"A partir da próxima sessão você pode acompanhar a construção passo-a-passo do app e poderá entender os conceitos e recursos necessários para desenvolver aplicações com r9x."}]},{title:"Mão na massa!",paragraphs:[{text:'O primeiro passo para desenvolver a aplicação proposta é definir a base do projeto. Utilizaremos "degit" para clonar o repositório r9x_tutorial, pois essa é a forma mais rápida para criar a estrutura do projeto.'},{text:'A ferramenta "degit" é um módulo diponível nos repositórios do npm. Seu trabalho é clonar repositórios git sem rastreamento. Isso significa que você pode clonar rapidamente r9x_tutorial e em seguida definir suas próprias configurações de versionamento.'},{text:'Para instalar "degit" no linux utilize o comando abaixo ou pesquise por degit no site do npm para mais instruções.',code:"sudo npm install degit -g"},{text:'Para clonar o projeto, crie uma nova pasta, um nome sugestivo é "movie-manager" abra a pasta no terminal e digite:',code:"degit github:devfreelex/r9x_tutorial"},{text:"Pronto, a estrutura do projeto já foi criada ou clonada."},{text:"Observe que temos a seguinte estrutura de arquivos e diretórios:"},{code:"\nsrc\n|_ assets\n|_ components\n|_ main.js\nindex.html\npackage.json\n                                "},{text:"Na raiz do projeto está o arquivo index.html reponsável por carregar o arquivo main.js que contém as configurações básicas para inicialização do projeto."},{text:"Ainda na raiz do projeto, está o arquivo package.json, esse arquivo contém as confgurações de depências do projeto e comandos específicos para rodá-lo em ambiente de desenvolvimento e produção."},{text:"Dentro da pasta src fica a pastas assets, que contém arquivos de estilização. Esses arquivos já estão prontos para uso. Ainda em src está a pasta components, que deve conter os componentes da aplicaçao."},{text:"Para finalizar essa sessão, execute no terminal o comano abaixo:",code:"npm install"},{text:"Esse comando instalará todas as dependências do projeto. Após a instalação ser concluída inicialize a aplicação em modo de desenolvimento executando o comando:",code:"npm run dev"},{text:'Pronto, para ver o resultado acesse em um navegador, de preferência no chrome a url: http://localhost:3000. Se tudo deu certo a aplicação deve mostrar na tela um "Hello World!".'},{text:"A partir da próxima sessão, criaremos o bootstrap e os componentes do gerenciador de locação de filmes."}]},{title:"Bootstrap da aplicaçao",paragraphs:[{text:"Dentro do arquivo main.js defina o código abaixo:",code:"\nimport { r9x } from 'r9x_js'\n\nconst routes = {}\n\nconst app = r9x()\n\napp.use({\n    main,\n    routes,\n})\n\napp.init()                                \n"},{text:'No trecho de código acima, importamos r9x como uma dependência e criamos o objeto de rotas ("routes").'},{text:'Na sequencia, executamos r9x que retorna para a variável app, dois métodos auxiliares para adicionar recursos ao projeto e inicializar a aplicaçao. Esses metodos são "use" e "init" respectivamente.'},{text:"Agora observe que passamos os objetos routes e main para o método use, mas, perceba que main não existe ainda."},{text:"Para r9x o componente principal da aplicação tem um nome padrão, esse nome é main. Então, vamos importar esse componente agora, caso contrário ao atualizar a página da aplicação obteremos um erro."},{text:"Para fins didáticos, o componente main.js assim como o componente appNotFound, foi préviamente criado para este tutorial. Portanto, vamos importálos agora.",code:"\nimport { appMain as main } from './components/appMain.component'\nimport { appNotFound } from './components/appNotFound.component'\n\n"},{text:"Aproveitando o momento, vamos também definir as configurações para as rotas de navegação.",code:"\nconst routes = {\n    firstRoute: { hash: '#/', component: appHome },\n    defaultRoute: { hash: '#/404', component: appNotFound },\n    otherRoutes: [\n        { hashExp: /^#/$/, component: appHome },\n        { hashExp: /^#/user/d+$/, component: appUserDetail },\n    ]\n}                                \n                                "},{text:'O objeto de rotas é composto por três chaves, "firstRoute", "defaultRoute" e "otherRoute".'},{text:'A chave firstRoute define a rota inicial da aplicação  e o componente a ser carregado para essa rota através do objeto interno e suas propriedades "hash" e "component".',code:"\nfirstRoute: { hash: '#/', component: appHome },                                \n                                "},{text:"A chave defaultRoute segue a mesma lógica, mas, define uma rota a ser carregada apenas quando uma rota não existente for acessada na aplicação. Nesse caso, o componente a ser carregado na rota padrão e o appNotFound.",code:"\ndefaultRoute: { hash: '#/404', component: appNotFound },                                \n                                "},{text:"A chave otherRoutes também segue a mesma lógica, porém, carrega componentes para rotas existentes sempre que ocorre uma mudança na url do navegador. Observe ainda que o objeto interno dessa propriedade não possui a propriedade hash e sim a propriedade hashExp que é uma expressão regular ao contrário da propriedade hash que armazena uma string.",code:"\notherRoutes: [\n    { hashExp: /^#/$/, component: appHome },\n    { hashExp: /^#/user/d+$/, component: appUserDetail },\n]                                \n                                "},{text:" A substituição de hash para hashExp é necessária para verificar se a rota acessada é válida e uma das melhores formas para fazer isso é usando expressõo regular. Então sim, as rotas em r9x são baseadas em expressões regulares."},{text:"O código completo fica assim:",code:"\nimport { r9x } from 'r9x_js'\nimport { appMain as main } from './components/appMain.component'\nimport { appHome } from './components/appHome/appHome.component'\nimport { appNotFound } from './components/appNotFound.component'\n\nimport './assets/styles/reset.css'\nimport './assets/styles/main.css'\n\nconst routes = {\n    firstRoute: { hash: '#/', component: appHome },\n    defaultRoute: { hash: '#/404', component: appNotFound },\n    otherRoutes: [\n        { hashExp: /^#/$/, component: appHome },\n    ]\n}\n\nconst app = r9x()\n\napp.use({\n    main,\n    routes,\n})\n\napp.init()                                \n                                "},{text:"Ainda obteremos um erro ao executar a aplicação, pois, o component appHome definido para a rota inicial ainda não existe. Então o criaremos na próxima sessão."}]},{title:"Components",paragraphs:[{text:"Componentes para r9x são apenas factory functions que retornam um objeto contendo as propriedades de um componente."},{text:"Vamos criar o componente appHome. Por isso, dentro da pasta components crie a pasta appHome e dentro dela os arquivos:",code:"\nappHome.component.js\nappHome.template.js\nappHome.styles.js                                \n                                "},{text:"Os sufixos .component, .template, .styles são bem descritivos. Está claro a responsabilidade de cada arquivo do componente."},{text:"Dentro do arquivo appHome.component.js insira o código abaixo:",code:"\n/*appHome.component.js*/\n                                \nimport template from './appHome.template.js'\nimport styles from './appHome.styles.js'\n\nconst appHome = () => {\n    \n    return  {\n        template,\n        styles\n    }\n\n}\n\nexport { appHome }\n                                "},{text:"Observe que o componente tem duas dependências, o template e seus estilos. Precisamos definir a função de template e de estilos. Criaremos agora o template.",code:"\n//appHome.template.js                                \n\n    export default ({props, state}) => {\n        return /*html*/ `<h1> appHome </h1>`\n    }\n                                "},{text:"Observe que a função que define o template recebe um parâmetro, do qual extrai propriedades (props) e dados (state) que mais tarde podem ser utilizados pelo template."},{text:"Hora de criar os estilos.",code:"\n//appHome.styles.js\n\nexport default () => /*css*/ ` \n    app-home h1 { color: blue }\n`                                \n                                "},{text:'Veja, os estilos são retornados por uma função simples. Note que o seletor app-home foi utilizado para definir o escopo de aplicação do estilo css. Como para r9x o nome do componente é a propriedade name da função fábrica que o define e elementos customizados no html5 possuem um tagName separado por "-", o seletor do componente depois do parse do seu nome ser aplicado torna-se app-home.'},{text:"Quando o componente for carregado e a aplicação inicializar, será criado a tag app-home como elemento do componente. Portanto, somente os elementos html filhos de app-home sofrerão modificações visuais decorrente do estilo css aplicado."},{text:"Esse é um padrão css simples que resolvem muitos problemas de escopo de estilização."},{text:"Pronto, agora o componente appHome importado em main.js será carregado e renderiado corretamente através do roteador da biblioteca.",code:"\n//main.js\n\n/*...codigo omitido...*/\nimport { appHome } from './components/appHome/appHome.component'\n\n/*...codigo omitido... */\n\nconst routes = {\n    firstRoute: { hash: '#/', component: appHome },\n    defaultRoute: { hash: '#/404', component: appNotFound },\n    otherRoutes: [\n        { hashExp: /^#/$/, component: appHome },\n    ]\n}\n\n/*...codigo omitido...*/                                \n                                "},{text:"Alterne para o navegador e veja o resultado. Se tudo deu certo, agora a página principal (home) exibe o título appHome."}]},{title:"Componentes reaproveitáveis",paragraphs:[{text:"A partir desse ponto, a coisa começa a ficar mais séria. Precisamos pensar em reaproveitamento de código. Podemos usar como exemplo o título presente em appHome, ele poderia ser um outro componente e receber o texto do título através de propriedades reativas. Vamos fazer isso agora."},{text:"Crie dentro da pasta componentes a pasta appTitle e dentro dela os arquvivos do componente de título.",code:"\nappTitle.component.js\nappTitle.template.js\nappTitle.styles.js                                \n                                "},{text:"Hora de implementar o template do componente. Utilize o código abaixo:",code:'\n//appTitle.template.js\n\nexport default ({props, state}) => /*html*/ `\n<div>"teste"</div>\n`\n\n'},{text:"Observe o seguinte treco de código:",code:"\n<h1 class=\"title ${props.object.style ? props.object.style : ''}\">${props.object.title}</h1>\n                                "},{text:"Estamos acessando as propriedades reativas através do objeto props que as contém. Observe que esse objeto possui a propriedade object que disponibiliza as propriedades como um objeto. Nesse caso estamos acessando, a propriedade title do objeto object."},{text:"No momento é assim que r9x converte um texto simples em propriedades reativas. Essas propriedades serão fornecidas para o template através da tag do componente definida dentro dos templates de outros componentes. Logo mais veremos isso em prática."},{text:"Ainda observando o trecho acima, note que a avaliação dentro da propriedade html class verifica se um estilo customizado foi informado como propriedade. Em caso afirmativo esse estilo será aplicado, caso contrário nada ocorre. Isso nos permite definir multiplos estilos visuais para o componente. Dessa forma a interface do componente pode se comportar de maneira diferente dependendo de onde ele for instanciado e de acordo com o estilo fornecido para o template como propriedade. "},{text:"Hora de definir os estilos do template. Utilize o código abaixo:",code:"\n//appTitle.styles.js\n\nexport default () => /*css*/ `\n    app-title .title-wrapper {\n        margin-bottom:15px;\n    }\n    app-title .title-wrapper,\n    app-title .title {\n        display:block;\n        float:left;\n        width:100%;\n    }\n\n    app-title .title {\n        padding:15px;\n        border-bottom: 1px #ebebeb solid;\n        font-size: 1.2em;\n        text-transform: uppercase;\n        text-align:left;\n    }\n\n    app-title .white { background:#fff; color: #6c31bf}\n    app-title .purple { background:#6c31bf; color:#fff;}\n`                                \n                                "},{text:'O bloco acima não tem segredos. Definimos a estilização padrão e dois temas que serão aplicados se um estilo customizado for fornecido como propriedade para o template do componente. Falavamos disso, instantes através. Esses temas são "white & purple, definidos nas duas últimas linhas de css dos estilos do componente.'},{text:"Hora de juntar tudo e definir o arquivo principal do componente.",code:"\n//appTitle.component.js\n\nimport template from './appTitle.template'\nimport styles from './appTitle'\n\nconst appTitle = () => {\n    return {\n        template,\n        styles\n    }\n}\n\nexport {\n    appTitle\n}                                \n                                "},{text:"Perceba que apenas importamos o template e os estilos dentro de appTitle.component.js, e os retornamos através da factory appTitle. Por fim, expotamos a função construtora appTitle que agora pode ser importada pelo componente appHome.",code:"\n//appHome.componente.js\n\nimport template from './appHome.template'\nimport styles from './appHome.styles'\n\nimport { appTitle } from '../appTitle/appTitle.component'\n\nimport { store } from '../../store'\n\nconst appHome = () => {\n\n    const children = () => ({\n        appTitle,\n    })\n\n    return {\n        template,\n        styles,\n        children,\n    }\n    \n}\n\nexport { appHome }                                \n                                "},{text:"Algumas coisas estão diferentes no componente appHome. Primeiro appTitle foi importado:",code:"\nimport { appTitle } from '../appTitle/appTitle.component'\n\n"},{text:"Em seguida uma nova função (children) foi inserida dentro de appHome e esta função retornando um objeto que contém appTitle.",code:"\n    const children = () => ({\n        appTitle,\n    })                                \n                                "},{text:"Por fim, essa função children está sendo retornada junto com o template e seus estilos para factory appHome:",code:"\n    return {\n        template,\n        styles,\n        children,\n    }                                \n                                "},{text:"Quase tudo em r9x são factory functions. Children é uma fábrica que retorna os componentes filhos para serem instancidos através do componente pai. Nesse caso específico, appTitle passa a ser filho de appHome. Por isso, children foi inserida no escopo do componente e retornada como uma propriedade pela factory function appHome. É dessa forma que componenetes filhos são definidos em r9x."},{text:"Uma vez definido um compnente filho através de children, o componente pai vai procurar em seu template a tag do componente filho para intanciá-lo. Para cada tag do componente filho encontrada no template do componente pai, uma nova instância do componente filho será criada e relacionada. Veja abaixo:",code:"\n//appHome.template.js\n\nexport default ({props, state}) => /*html*/ `\n    <app-title data-props=\"{'title':'Vitrine', 'style':'purple'}\"></app-title>\n`\n\n"},{text:"Ao acessar a rota principal da aplicação, você perceberá que o componente title já está renderizado e exibindo o valor do título informado via propriedade e que o estilo purple também passado por propriedade foi aplicado."},{text:"A verdade é que ainda faremos mais alterações na home. O que faremos agora é definir a estrutura completa dessa página e ela nos servirá de guia para criar os demais componentes que a compoem. O código completo do template do componente appHome fica assim:",code:"\n/*appHome.template.js*/\n\nexport default ({ props, state }) => /*html*/ `\n    <div class=\"home-wrapper\">\n        <app-title data-props=\"{'title':'Vitrine', 'style':'purple'}\"></app-title>\n        <div class=\"movie-list\">\n            <app-title data-props=\"{'title':'Filmes', 'style':'white'}\"></app-title>\n            <app-search data-props=\"{'storeKey':'movieList', 'placeholder':'Buscar filmes'}\"></app-search>\n            <app-movie-list></app-movie-list>\n        </div>\n        <div class=\"user-list\">\n            <app-title data-props=\"{'title':'Clientes', 'style':'white'}\"></app-title>\n            <app-search data-props=\"{'storeKey':'userList', 'placeholder':'Buscar clientes'}\"></app-search>\n            <app-user-list> </app-user-list>\n        < div>\n        <div class=\"sidebar\">\n            <app-sidebar data-props=\"{'showButtons':true, 'buttons':['cancel', 'confirm']}\"></app-sidebar> \n        </div>\n    </div>\n`                             \n"},{text:"Precisamos criar mais 4 componentes de acordo com o códgo acima. Os componentes são appSearch, appMovieList, appUserList e appSidebar."},{text:"Faremos isso a partir da próxima sessão. Mas antes, precisamos introduzir o restante dos estilos do componente. O código completo fica assim:",code:"\n/*appHome.styles.js*/\n\nexport default () => /*css*/ `\n    app-home .home-wrapper {\n        display:block;\n        float:left;\n        width:100%;\n        padding:15px;\n    }\n\n    app-home .movie-list,\n    app-home .user-list {\n        display:block;\n        float:left;\n        width:calc(50% - 7.5px);\n        padding:15px;\n    }\n\n    app-home .user-list {\n        margin-left:15px;\n    }\n\n    app-home .sidebar {\n        display:block;\n        float:right;\n        width:250px;\n        position:relative;\n    }\n`\n"}]},{title:"Buscas - appSearch",paragraphs:[{text:"Essa aplicação exibirá através do componente appHome uma lista de filmes e clientes. Por isso, precisamos de uma forma eficiente para filtrar os filmes e os clientes e tornar mais fácil a vida do usuário que vai operar o app."},{text:"Destro da pasta components crie os arquivos:",code:"\nappSearch.component.js\nappSearch.template.js\nappSearch.stylessss.js\n                                \n"},{text:"Comece implementando o template do componente.",code:'\n/*appSearch.template.js*/\n\nexport default ({props, state}) => /*html*/ `\n    <div class="search-wrapper">\n        <input type="text" class="search-input" placeholder="${props.object.placeholder}">\n    </div>\n`                                \n'},{text:'Note que o template acessa a propriedade reativa "placeholder", essa propriedade define o placeholder do input da busca.'},{text:"Hora de definir os estilos do componente. O código css fica assim:",code:"\nexport default () => /*css*/ `\n    app-search .search-wrapper {\n        display:block;\n        float:left;\n        width:100%;\n        padding:15px;\n        margin-bottom:15px;\n        border-radius:4px;\n        background:#f9f9f9;\n    }\n\n    app-search .search-input {\n        display:block;\n        float:left;\n        width:100%;\n        padding:15px;\n        border:0;\n        border-bottom:2px #fff solid;\n        border-radius:4px;\n        outline:0;\n        background:#fff;\n        color:#666;\n        text-transform: uppercase;\n        font-size:.875em\n    }\n\n    app-search .search-input:focus {\n        border-bottom: 2px #ebebeb solid;\n    }\n`\n"},{text:"Não há segredos aqui. Esse é apenas um estilo css que você poderia escrever para formatar qualquer input de texto."},{text:"Agora importe o template e os estilos dentro de appSearch.component.js, o códgo fica assim:",code:"\n/*appSearch.component.js*/\n\nimport template from './appSearch.template.js'\nimport styles from './appSearch.styles.js'\n\nconst appSearch = () => {\n\n    return {\n        template,\n        styles\n    }\n\n}\n\nexport { appSearch }\n\n"},{text:"É preciso implementar uma forma para o usuário interagir com o componente e realizar a filtragem dos dados. É possível fazer isso utilizando eventos. Veja o código:",code:"\n    const events = ({on, query, methods, directives}) => ({\n        onType () {\n            const input = query('.search-input')\n            let value = ''\n\n            on('keyup', [input], ({target}) => { \n                if(target.value) value = target.value\n                methods.filterMovies({target})\n            })\n        }\n    })\n\n    "},{text:"A factory events acima está criando um manipulador de eventos denominado onType. Ao ser executado após a renderização do template o evento será aplicado a tag alvo."},{text:"A factory events recebe um parâmtro que dá acesso a alguns itens importantes. Esses itens são:",code:"\n/*html*/\non: Função responsável por fazer o bind de eventos\nquery: Função responsável por buscar elementos no contexto do componente\nmethods: Um objeto contendo todos os métodos do componente\ndirectives: Um objeto contendo todas as diretivas relacionadas ao componente\n\n"},{text:"Com os recursos acima podemos buscar elementos e adicionar eventos executando métodos do componente sempre que um desses eventos ocorrer. E exatamente isso que está acontecendo no código abaixo:",code:"\nonType () {\n    const input = query('.search-input')\n    let value = ''\n\n    on('keyup', [input], ({target}) => { \n        if(target.value) value = target.value\n        methods.filterMovies({target})\n    })\n\n}\n                                "},{text:"Primeiro, através da função query, obtemos o elemento do input. Em seguida declaramos value que armazenará o cache do valor digitado no input. Depois através da função on, o evento keyup é definido. Observe que o input selecionado é passado para essa função dentro de um array. Isso porque on manipula uma série de elementos de uma única vez. Em seguida é passado um callback para on que obtem o target do evento e armazena o valor da propriedade value do target dentro da variável de cache value. Por fim, o método filterMovies recebe o target e realiza a filtragem dos dados."},{text:"Óbvio, esse código não funciona ainda. Precisamos dicionar o método filterMovies. O código fica assim:",code:"\nconst methods = ({props, state}) => ({\n\n    filterMovies ({target}) {\n        const { storeKey } = props.get().object\n        const { value } = target\n        const regex = new RegExp(`${ value }`,'ig')\n\n        const result = store.get()[storeKey].filter( item => {\n            const itemKeys = Object.keys(item)\n            return itemKeys.filter(key => item[key].toString().match(regex)).join('')\n        })\n\n        store.update((storeData) => {\n            if(!storeData.hasOwnProperty('search')) storeData.search = {}\n            storeData.search[storeKey] = result\n        })\n\n    }\n})\n                                "},{text:'Primeiro adicionamos a factory de métodos "methods". Essa factory recebe um parâmetro contendo a propriedades reativas e o state local do componente.',code:"\nconst methods = ({props, state}) => ({ })\n                                "},{text:"Declaramos no objeto retornado os métodos que vão decorar o componente. Por causa do clousure esses métodos possuem acesso a props e state.",code:"\n/*codigo omitido*/\n\n{\n    filterMovies ({target}) { }\n}\n                                "},{text:"Dentro de filterMovies, obtemos a proriedade storeKey para selecionar a chave de dados a ser filtrada na store de dados que ainda não existe e precisa ser criada. Em seguida, value é extraído do target recebido como parametro. Por fim, value é transformado em uma expressão regular.",code:"\nconst { storeKey } = props.get().object\nconst { value } = target\nconst regex = new RegExp(`${ value }`,'ig')                                \n                                "},{text:"Observe o treche a seguir:",code:"\n                                \nconst result = store.get()[storeKey].filter( item => {\n    const itemKeys = Object.keys(item)\n    return itemKeys.filter(key => item[key].toString().match(regex)).join('')\n})\n\n"},{text:"O código acima acessa a chave da store dedados assim:",code:"\nstore.get()[storeKey]\n\n"},{text:"Então, filter percode os objetos da chave selecionada na store:",code:"\nstore.get()[storeKey].filter( item => {\n\n})                                \n"},{text:"Por fim, caso a expressão regular avaliadora teste true para os objetos dentro da chave selecionada na store, filter retorna um array contendo esses objetos.",code:"\nconst itemKeys = Object.keys(item)\nreturn itemKeys.filter(key => item[key].toString().match(regex)).join('')                                \n\n"},{text:"Observe o seguinte código:",code:"\nstore.update((storeData) => {\n    if(!storeData.hasOwnProperty('search')) storeData.search = {}\n    storeData.search[storeKey] = result\n}) \n\n"},{text:"O método update da store, recebe um callback que tem acesso aos dados da store e permite atualizá-los e notificar a todos os observadores da store.",code:"\nstore.update((storeData) => { })\n\n"},{text:"No calback passado para update está sendo avaliado se existe a chave search na store. Se essa chave não existir, será criada dinâmicamente e em seguida a ela será abribuido o resultado a busca.",code:"\nif(!storeData.hasOwnProperty('search')) storeData.search = {}\nstoreData.search[storeKey] = result\n                                "},{text:"Chegou o momento de criar a store, pois, logo a diante será necessário observar as mudanças nos ddos da store para atualizar o state local dos componentes da aplicação."},{text:"Na raiz do projeto crie o arquivo store.js e insira dentro o código abaixo:",code:"\nimport { storeFactory } from 'r9x_js'\n\nconst store = storeFactory({\n    movieList: [\n        { id: 1, title: 'Ultimos dias', description:'Mussum Ipsum, cacilds vidis litro abertis. Tá deprimidis, eu conheço uma cachacis que pode alegrar sua vidis. Quem num gosta di mé,'},\n        {id:2, title:'Fim dos dias', description:'Mussum Ipsum, cacilds vidis litro abertis. Tá deprimidis, eu conheço uma cachacis que pode alegrar sua vidis. Quem num gosta di mé,'},\n        {id:3, title:'Málevola', description:'Mussum Ipsum, cacilds vidis litro abertis. Tá deprimidis, eu conheço uma cachacis que pode alegrar sua vidis. Quem num gosta di mé,'},\n        {id:4, title:'A rainha má', description:'Mussum Ipsum, cacilds vidis litro abertis. Tá deprimidis, eu conheço uma cachacis que pode alegrar sua vidis. Quem num gosta di mé,'},\n    ],\n    userList: [\n        { id: 1, name: 'Rodrigo', lastName:'Rocha', cpf:'9995586655', movies:[] },\n        { id: 2, name: 'Roberto', lastName:'Montana', cpf:'6665544788', movies:[] },\n        { id: 3, name: 'Rafaela', lastName:'Fontes', cpf:'2254447895', movies:[] },\n        { id: 4, name: 'Tatiana', lastName:'Alvarez', cpf:'3321145589', movies:[] },        \n    ],\n    operation: {\n        client: null,\n        movie: null\n    },\n})\n\nexport { store }                                \n                                "},{text:'Observe que r9x disponibiliza uma função "storeFactory" para criar a store observável. Em aplicações mais complexa multiplas stores podem ser criadas.'},{text:"storeFactory recebe um objeto que contém as chaves de dados da store  sendo criobservávelada e a retorna."},{text:"Por fim, a store criada é exportada e pode ser observada por qualquer componente. Mas, para isso o componente precisa importá-la em suas dependências. Faremos isso no componente appSearch."},{text:"o códgo completo do componente fica assim:",code:"\n/*appSearch.component.js*/\n\nimport template from './appSearch.template'\nimport styles from './appSearch.styles'\nimport { store } from '../../store'\n\nconst appSearch = () => {\n\n    const events = ({on, query, methods, directives}) => ({\n        onType () {\n            const input = query('.search-input')\n            let value = ''\n\n            on('keyup', [input], ({target}) => { \n                if(target.value) value = target.value\n                methods.filterMovies({target})\n            })\n\n        }\n    })\n\n    const methods = ({props, state}) => ({\n        getSelector (input) {\n            return input.getAttribute('key')\n        },\n\n        filterMovies ({target}) {\n            const { storeKey } = props.get().object\n            const { value } = target\n            const regex = new RegExp(`${ value }`,'ig')\n\n            const result = store.get()[storeKey].filter( item => {\n                const itemKeys = Object.keys(item)\n                return itemKeys.filter(key => item[key].toString().match(regex)).join('')\n            })\n\n            store.update((storeData) => {\n                if(!storeData.hasOwnProperty('search')) storeData.search = {}\n                storeData.search[storeKey] = result\n            })\n\n        }\n    })\n\n    return {\n        template,\n        styles,\n        events,\n        methods,\n    }\n}\n\nexport { appSearch }\n                                \n"},{text:"Na próxima sessão, criaremos os componentes appMovieList e appMovie. Esses componentes são responsáveis por listar os filmes e exibir o resultado da filtragem realizada pelo componente appSeaarch."}]},{title:"appMovieList - Listando os filmes da store",paragraphs:[{text:"O componente appMovieList deve exibir a lista de filmes através do componente filho appMovie e garantir que a view seja atualizada sempre e somente quando a store de dados sofrer alterações."},{text:"Crie os arquivos abaixo dentro da pasta appMovieList na pasta componentes:",code:"\nappMovieList.template.js                                \nappMovieList.styles.js                                \nappMovieList.component.js       \n\n"},{text:"No arquivo de template insira o código abaixo:",code:"\n/*appMovieList.template.js*/\n\nexport default ({props, state}) => {\n\n    const repeat = (template, dataArr) => {\n        return dataArr.map(item => template(item)).join('')\n    }\n\n    const movieTpl = (movie) => /*html*/ `\n        <app-movie data-props=\"{'movieId': '${movie.id}'}\"></app-movie>\n    ` \n\n    return /*html*/ `\n        <div class=\"movie-list-wrapper\">\n            ${repeat(movieTpl, state.movieList)}    \n        </div>\n    `\n}\n\n"},{text:"Observe o trecho abaixo:",code:"\n    const repeat = (template, dataArr) => {\n        return dataArr.map(item => template(item)).join('')\n    }\n\n"},{text:"A função repeate tem o dever de repetir um fragmento de template baseado em um array de dados e retornar as repetiçoes desse fragmento todas de uma só vez."},{text:"No trecho abaixo, criamos um fragmeno de template que contém a tag do componente filho appMovie e essa tag recebe uma propriedade reativa movieId que mais tarde será utilizada para selecionar um filme a ser exibido por cada uma das repetições do componente appMovie.",code:"\nconst movieTpl = (movie) => /*html*/ `\n    <app-movie data-props=\"{'movieId': '${movie.id}'}\"></app-movie>\n` \n"},{text:"Por fim, o código abaixo utiliza o fragmento de template criado anteriormente e a função repeat para repetir o componente appMovie lhe fornecendo a propriedade reativa movieId.",code:'\nreturn /*html*/ `\n    <div class="movie-list-wrapper">\n        ${repeat(movieTpl, state.movieList)}    \n    </div>\n`                                \n'},{text:"hora de criar mais um css clichê para estilizar o componente appMovieList.",code:"\n/*appMovieList.styles.js*/\n\nexport default () => /*css*/ `\n    app-movie-list .movie-list-wrapper {\n        display:block;\n        float:left;\n        width:100%;\n    }\n`\n\n"},{text:"Chegou o momento de implementar a lógica do componente. Utilize o código abaixo:",code:"\nimport template from './appMovieList.template'\nimport styles from './appMovieList.styles'\n\nimport { appMovie } from '../appMovie/appMovie.component'\n\nimport { store } from '../../store'\n\nconst appMovieList = () => {\n\n    const state = {\n        movieList: store.get().movieList,\n    }\n\n    const children = () => ({\n        appMovie\n    })\n\n\n    const hooks = ({ state, methods }) => ({\n        beforeOnInit() {\n            store.subscribe(({ search }) => {\n                const movieList = search?.movieList\n                const hasChanges = methods.hasChanges(state.get().movieList, movieList)\n                if(hasChanges && movieList) state.set({ movieList })\n            })\n        }\n    })\n\n    const methods = () => ({\n\n        hasChanges(oldState, newState) {\n            const oldStateJson = JSON.stringify(oldState)\n            const newStateJson = JSON.stringify(newState)\n            return oldStateJson !== newStateJson\n        }       \n\n    })\n\n    return {\n        state,\n        template,\n        styles,\n        children,\n        hooks,\n        methods\n    }\n}\n\nexport { appMovieList }\n                                "},{text:"Observe que importamos o template, os estilos, a store de dados e o componente filho appMovie do qual appMovieList depende para exibir cada um dos filmes.",code:"\nimport template from './appMovieList.template'\nimport styles from './appMovieList.styles'\n\nimport { store } from '../../store'\nimport { appMovie } from '../appMovie/appMovie.component'\n\n"},{text:"Em seguida o state local do componente foi declarado.",code:"\nconst state = {\n    movieList: store.get().movieList,\n}\n                                "},{text:"Após o state ser declarado, registramos o componente appMovie como filho de appMovieList",code:"\nconst children = () => ({\n    appMovie\n})      \n\n"},{text:"Observe que também registramos os hooks e os métodos para este componente.",code:"\nconst hooks = ({ state, methods }) => ({\n    beforeOnInit() {\n        store.subscribe(({ search }) => {\n            const movieList = search?.movieList\n            const hasChanges = methods.hasChanges(state.get().movieList, movieList)\n            if(hasChanges && movieList) state.set({ movieList })\n        })\n    }\n})\n\nconst methods = () => ({\n\n    hasChanges(oldState, newState) {\n        const oldStateJson = JSON.stringify(oldState)\n        const newStateJson = JSON.stringify(newState)\n        return oldStateJson !== newStateJson\n    } \n                            \n\n"},{text:'Veja que o componente se inscreve para ouvir mudanças na store através da função subscribe da própria store que recebe um objejo "search" que pode conter uma lista de filmes filtrados pelo componente de busca.',code:"\n    beforeOnInit() {\n        store.subscribe(({ search }) => {\n            const movieList = search?.movieList\n            const hasChanges = methods.hasChanges(state.get().movieList, movieList)\n            if(hasChanges && movieList) state.set({ movieList })\n        })\n    }                                \n                                "},{text:"No trecho de código a seguir, o componente identifica que houve uma mudança nos dados da store e verifica se os dados do state local estão diferentes dos novos dados presentes na store. Caso esteja o componente atualiza o state local e consequentemente seu template com os novos dados da store.",code:"\nconst movieList = search?.movieList\nconst hasChanges = methods.hasChanges(state.get().movieList, movieList)\nif(hasChanges && movieList) state.set({ movieList })\n                                "},{text:"Para detectar diferenças no state local, o componente faz uso da função hashChanges que compara o state local com a store.",code:"\nhasChanges(oldState, newState) {\n    const oldStateJson = JSON.stringify(oldState)\n    const newStateJson = JSON.stringify(newState)\n    return oldStateJson !== newStateJson\n}          \n\n"},{text:"Por fim, a factory appMovieList retorna todos os recursos necessários para criar um componente e é exportada para ser usada no momento adequado.",code:"\n\n/*codigo omitido*/\n\nconst appMovieList = () => {\n\n/*codigo omitido*/\n\n    return {\n        state,\n        template,\n        styles,\n        children,\n        hooks,\n        methods\n    }\n}\n\nexport { appMovieList }\n\n                                "},{text:"Agora é uma boa hora para importar os componentes appTitle, appSearch e appMovieList em appHome. Embora não seja possível testar a aplicação sem criar o componente appMovie.",code:"\n                                \n/*appHome.component.js*/\n\nimport template from './appHome.template.js'\nimport styles from './appHome.styles.js'\n\nimport { appTitle } from '../appTitle/appTitle.component'\nimport { appSearch } from '../appSearch/appSearch.component'\nimport { appMovieList } from '../appMovieList/appMovieList.component'\n\nconst appHome = () => {\n\n    const children = () => ({\n        appTitle,\n        appSearch,\n        appMovieList,\n    })\n    \n    return  {\n        template,\n        styles\n    }\n\n}\n\nexport { appHome }  \n                              "},{text:"Na próxima sessão criaremos o componente appMovie e então poderemos testar a aplicação parcialmente."}]},{title:"AppMovie - Exibindo dados diferentes para cada instância.",paragraphs:[{text:"Cada vez que o componente appMovie é renderizado, uma nova instância é criada. Como o state é local, os dados presentes no state de cada instância são independentes."},{text:"Dentro da pasta components cria a pasta appMovie e dentro dela os arquivos abaixo:",code:"\n/*components/appMovie/*                                \n\nappMovie.component.js\nappMovie.template.js\nappMovie.styles.js\n                                "},{text:"Comece definindo o template do componente appMovie: ",code:"\n/*appMovie.template.js*/\n\nexport default ({props, state, methods}) => {\n\n    if (!methods.hasMovies()) return ''\n    const movie = methods.getMovie(props.object.movieId)\n    const notHaveButtons = () => props.object.hideButtons && props.object.hideButtons === true\n\n    const buttonsTpl = () => {\n        if (notHaveButtons()) return ''\n        return /*html*/ `\n            <app-mark-to data-props=\"{'type':'movie', 'movieId':'${props.object.movieId}'}\"></app-mark-to>\n        `\n    }\n\n    return /*html*/ `\n    <div class=\"movie-wrapper ${methods.isSelected(props.object.movieId) && !notHaveButtons() ? 'selected' : ''}\">\n        <div class=\"title\">${movie.title}</div>\n        <div class=\"description\">${movie.title} - ${movie.description}</div>\n        <div class=\"buttons\">\n            ${buttonsTpl()}\n        </div>\n    </div>\n`\n}\n\n                                "},{text:"Observe que dessa vez, o template recebe a propriedade methods. Isso é muito útil quando o template precisa de lógica adicional para fazer validações ou obter dados computados."},{text:'Como o template recebe a propriedade methods, a função getMovie pode ser acessaa para recuperar os dados que o template deve exibir. Esses dados são armazenados na variavel "movie".'},{text:'No trecho de código abaixo,  a funçao notHaveButtons verifica se o fragmento de template "buttonsTpl" declarado logo abaixo dela deve ser exibido.',code:"\n    const notHaveButtons = () => props.object.hideButtons && props.object.hideButtons === true\n\n    const buttonsTpl = () => {\n        if (notHaveButtons()) return ''\n        return /*html*/ `\n            <app-mark-to data-props=\"{'type':'movie', 'movieId':'${props.object.movieId}'}\"></app-mark-to>\n        `\n    }                                \n                                "},{text:'Veja que no fragmento de template de botões "buttonsTpl" está contido o componente appMarkTo:',code:"\n<app-mark-to data-props=\"{'type':'movie', 'movieId':'${props.object.movieId}'}\"></app-mark-to>                                \n                                "},{text:"Esse componente recebe através de propriedades reativas (type & movieId) informações que serão úteis na hoje de definir que filmes estão sendo alugados. Logo adiante precisaremos criar esse componente. Mas, por equanto pode ignorá-lo."},{text:"Por fim, um conjunto de tags do fragmento principal do template é retornado.",code:"\n    return /*html*/ `\n    <div class=”movie-wrapper ${methods.isSelected(props.object.movieId) && !notHaveButtons() ? 'selected' : ''}”>\n        <div class=”title”>${movie.title}</div>\n        <div class=”description”>${movie.title} - ${movie.description}</div>\n        <div class=”buttons”>\n            ${buttonsTpl()}\n        </div>\n    </div>\n`                                \n                                "},{text:"Observe o trecho de código:",code:"\n<div class=\"movie-wrapper ${methods.isSelected(props.object.movieId) && !notHaveButtons() ? 'selected' : ''}\">\n                                "},{text:"Esse trecho de código valida se os dados do componente foram marcados para locação e se o componente está exibindo botões de controle ou não. Caso tenha botões definidos, o seletor selected será aplicada ao template. Parece estranha a segunda validação. Porém, assim que o componente sidebar for implementado essa validação fará total sentido."},{text:"Hora de aplicar os estilos do componente:",code:"\n/*appMovie.template.js*/\n\nexport default () => /*css*/ `\n\n    app- movie.movie - wrapper {\n        display: block;\n        float: left;\n        width: 100 %;\n        padding: 15px;\n        margin- bottom: 15px;\n        border- radius: 4px;\n        border: 1px #f7f6f8 solid;\n        background:#fff;\n        box- shadow: 3px 3px 3px #f4f3f6\n    }\n\n    app- movie.selected { border- color:#2ad58e}\n\n    app - movie.title {\n        font - weight: 700\n    }\n\n    app - movie.title,\n        app - movie.description {\n        display: block;\n        float: left;\n        width: 100 %;\n        padding - bottom: 15px;\n        border - bottom: 1px #ebebeb solid;\n        color:#666;\n        font - size: 1em;\n        text - transform: uppercase;\n        line - height: 1.5em\n    }\n\n    app - movie.description {\n        text - transform: none;\n        padding - top: 15px;\n        border - bottom: none;\n        font - weight: 500\n    }\n\n    app - movie.buttons {\n        display: block;\n        float: left;\n        width: 100 %;\n        padding - top: 15px;\n        text - align: right;\n    }\n`\n\n                                "},{text:"Agora utilize o código abaixo para implementar o componente.",code:"\n/*appMovie.component.js*/\n\nimport template from './appMovie.template'\nimport styles from './appMovie.style'\nimport { appMarkTo } from '../appMarkTo/appMarkTo.component'\nimport { store } from '../../store'\n\nconst appMovie = () => {\n\n    const state = {\n        movieList: store.get().movieList,\n        selected: false\n    }\n\n    const children = () => ({\n        appMarkTo\n    })\n\n    const hooks = ({methods}) => ({\n\n        beforeOnInit() {\n            store.subscribe((payload) => {\n                methods.movieInOperation(payload) ? methods.selectMovie() : methods.unselectMovie()\n            })\n        },        \n\n    })\n\n    const methods = ({props, state}) => ({\n\n        getMovie (movieId) {\n            const { movieList } = state.get()\n            return movieList.find( movie => +movie.id === +movieId)\n        },\n\n        hasMovies () {\n            const { movieList } = state.get()\n            return movieList.length\n        },\n\n        isSelected(movieId) {\n            const { operation } = store.get()\n            return (operation.movie !== null && +operation.movie.id === +movieId)\n        },\n\n        selectMovie() {\n            state.set({ selected: true })\n        },\n        unselectMovie() {\n            state.set({ selected: false })\n        },\n\n        movieInOperation(dataStore) {\n            const { operation } = dataStore\n            const { object } = props.get()\n            return operation.movie !== null && +operation.movie.id === +object.movieId\n        }\n\n    })\n\n    return {\n        state,\n        template,\n        styles,\n        children,\n        hooks,\n        methods,\n    }\n}\n\nexport { appMovie }\n\n                                "},{text:"Parece que muito está acontecendo e é verdade. Mas todas as operações realizadas são simples."},{text:"Primeiro importamos as dependências do componente, incusive o componente filho appMarkTo e a store",code:"\nimport template from './appMovie.template'\nimport styles from './appMovie.style'\nimport { appMarkTo } from '../appMarkTo/appMarkTo.component'\nimport { store } from '../../store'                                \n                                "},{text:"Logo depois o state local é declarao:",code:"\nconst appMovie = () => {\n    const state = {\n        movieList: store.get().movieList,\n        selected: false\n    }    \n}                                \n                                "},{text:"Na sequência, appMovie registra appMarkTo como filho.",code:"\nconst children = () => ({\n    appMarkTo\n})                                \n                                "},{text:"AppMovie também registra o hook beforeOnInit e o utiliza para ouvir as mudanças na store de dados.",code:"\nconst hooks = ({methods}) => ({\n\n    beforeOnInit() {\n        store.subscribe((payload) => {\n            methods.movieInOperation(payload) ? methods.selectMovie() : methods.unselectMovie()\n        })\n    },        \n\n})                                \n                                "},{text:"Veja, toda vez que uma mudança ocorrer na store, o callback passado para store.subscribe será executado e então o método movieInOperation receberá os novos dados da store. Esse método verifica se existe um filme registrado para uma operação de locação na store."},{text:"A store possue a propriedade opertaion e caso um filme seja registrado na chave movie de operation, movieInOperation retornará true o que permite a execução do método selectMovie que destacará o layoute do componente selecionado. Agora, caso não exista um filme, unslectMovie vai garantir que nenhum template seja destacado."},{text:"Esse métodos só podem ser acessados pelos hooks, porque foram declarados através da factory methods dentro do componente.",code:"\n   const methods = ({props, state}) => ({\n\n        getMovie (movieId) {\n            const { movieList } = state.get()\n            return movieList.find( movie => +movie.id === +movieId)\n        },\n\n        hasMovies () {\n            const { movieList } = state.get()\n            return movieList.length\n        },\n\n        isSelected(movieId) {\n            const { operation } = store.get()\n            return (operation.movie !== null && +operation.movie.id === +movieId)\n        },\n\n        selectMovie() {\n            state.set({ selected: true })\n        },\n        unselectMovie() {\n            state.set({ selected: false })\n        },\n\n        movieInOperation(dataStore) {\n            const { operation } = dataStore\n            const { object } = props.get()\n            return operation.movie !== null && +operation.movie.id === +object.movieId\n        }\n\n    })                                \n                                "},{text:"Os três primeiros métodos declarados no bloco acima são utilizados pelo template. Já falamos sobre eles. Já os métodos selectMovie e unselectMovie, são chamados para atualizar o state caso seja necessário. Por fim, o método movieInOperation é quem define qual dos dois métodos executar."},{text:"Como o componente escuta as mudanças nos dados da store, caso state.set seja chamado para atualizar o state em conformidade com os dados provenientes da store, então o template do componente será atualizado."},{text:"Na próxima sessão será criado o componente appMarkTo."}]},{title:"AppMarkTO - Registrando operções de locação",paragraphs:[{text:"O componente appMarkTo é reponsável por criar uma operação de locação e marcar os filmes para ela."},{text:'Crie uma nova pasta "appMarkTo" dentro da pasta components e dentro dela os arquivos abaixo:',code:"\n/*components/appMarkTo*/\n\nappMarkto.componente.js\nappMarkTo.template.js\nappMarkTo.styles.js                                \n                                "},{text:"Dentro do arquivo de template do componente introduza o código abaixo:",code:'\n/*appMarkTo.template.js*/\n\nexport default ({props, state}) => /*html*/ `\n    <div class="mark-to-wrapper">\n        <button class="btn-mark">Selecionar</button>\n    </div>\n`\n'},{text:"O template desse componente é realmente simples. Possue apenas tags de marcação. Aproveite e implemente os estilos do componente.",code:"\n/*appMarkTo.styles.js*/\n\nexport default () => /*css*/ `\n    app-mark-to .mark-to-wrapper {\n        display:inline-block;\n    }\n\n    app-mark-to .btn-mark {\n        display: block;\n        float: left;\n        width: 100%;\n        padding: 10px 15px;\n        border-radius: 4px;\n        font-size: .875em;\n        text-align: center;\n        border: 1px #2ad58e solid;\n        color: #2ad58e;\n        background: #f7f7f8;\n        text-decoration: none;\n        outline: none;\n        transition: .2s ease-in;\n        cursor: pointer;\n    }\n\n    app-mark-to .btn-mark:hover {\n        border: 1px #2ad58e solid;\n        color: #fff;\n        background: #2ad58e;        \n    }\n\n`                                \n"},{text:"Os estilos também são bem simples e apenas adicionam um comportamento visual elegante."},{text:"Hora de implementar o componente.",code:"\n/*appMarkTo.componente.js*/\n\nimport template from './appMarkTo.template'\nimport styles from './appMarkTo.styles'\nimport { store } from '../../store'\n\nconst appMarkTo = () => {\n\n    const events = ({query, on, methods}) => ({\n        \n        onClickToSelect () {\n            const btn = query('button')\n            on('click', [btn], (e) => {\n                methods.setOperation()\n            })\n        }\n        \n    })\n\n    const methods = ({props, state}) => {\n\n        const setUserOperation = (userId) => {\n            store.update((dataStore) => {\n                const user = dataStore.userList.find( user => +user.id === +userId)\n                dataStore.operation.client = user\n            })\n\n        }\n\n        const setMovieOperation = (movieId) => {\n            store.update((dataStore) => {\n                const movie = dataStore.movieList.find(movie => +movie.id === +movieId)\n                dataStore.operation.movie = movie\n            })\n\n        }\n\n        const setOperation = () => {\n            const { object } = props.get()\n            if(object.type && object.type === 'user') return setUserOperation(object.userId)\n            if(object.type && object.type === 'movie') return setMovieOperation(object.movieId)\n        }\n\n        return { setOperation }\n    }\n\n    return {\n        template,\n        styles,\n        events,\n        methods\n    }\n\n}\n\nexport {\n    appMarkTo\n}\n                                "},{text:"Observe que primeiro importamos as dependências do componente:",code:"\nimport template from './appMarkTo.template'\nimport styles from './appMarkTo.styles'\nimport { store } from '../../store'                                \n                                "},{text:"Na sequência, dentro da factor appMarkTo foram declarados os eventos do componente.",code:"\nconst events = ({query, on, methods}) => ({\n    \n    onClickToSelect () {\n        const btn = query('button')\n        on('click', [btn], (e) => {\n            methods.setOperation()\n        })\n    }\n    \n})                                \n                                "},{text:"Quando o evento de click ocorrer no botão do componente, uma operação será criada. Veja os métodos do componente.",code:"\n    const methods = ({props, state}) => {\n\n        const setUserOperation = (userId) => {\n            store.update((dataStore) => {\n                const user = dataStore.userList.find( user => +user.id === +userId)\n                dataStore.operation.client = user\n            })\n\n        }\n\n        const setMovieOperation = (movieId) => {\n            store.update((dataStore) => {\n                const movie = dataStore.movieList.find(movie => +movie.id === +movieId)\n                dataStore.operation.movie = movie\n            })\n\n        }\n\n        const setOperation = () => {\n            const { object } = props.get()\n            if(object.type && object.type === 'user') return setUserOperation(object.userId)\n            if(object.type && object.type === 'movie') return setMovieOperation(object.movieId)\n        }\n\n        return { setOperation }\n    }                                \n                                "},{text:"Note que setOperation acessa as propriedades reativas no caso a propriedade type para definir que tipo de operação de relacionamento está sendo criada."},{text:'Caso a propriedade type seja "user" a função setUserOperation obterá o usuário através do id de usuário fornecido através das propriedades reativas. Caso type seja movie a mesma lógica se aplica, mas, obtendo um filme ao invés de um usuário e a função executa será setMovieOperation.'},{text:"Você deve ter notado uma diferença de sintaxe na declaração dos métodos desse componente. Isso acontece porque setOperation precisa acessar outros métodos no mesmo escopo. Então ao invés de retornar logo de inicio um objeto com os métodos dentro, foi melhor somente no fim da declaração dos métodos retornar um objeto literal criado manualmente. Veja abaixo uma comparação entre as duas técnicas.",code:"\n/*Primeira forma*/\nconst methods = () => ({\n    methodsInside () {}\n})\n\n/*Segunda Forma*/\nconst methods = () => {\n\n    const methodInClousure = () => {}\n\n    return {\n        methodInclousure\n    }\n}\n                                "},{text:"Como o componente criado já foi importado dentro de appMovie, você não precisa fazer mais nada. Pode testar a aplicação."},{text:"Ainda não é possivel completar uma operação de locação porque os componentes de listagem de usuários ou clientes ainda não existem. Portanto, será necessário criá-los na proxima sessão."}]},{title:"Listagem de usuários/clientes.",paragraphs:[{text:"Para exibir a lista de usuários e permitir que seja filtrada é preciso criar os componentes appListUser e appUser. Eles são bem parecidos com appMovieList e appMovie."},{text:"Dentro da pasta componentes crie a pasta appUserList e dentro dela os arquivos:",code:"\nappUserList.componente.js                                \nappUserList.template.js                                \nappUserList.styles.js                                \n                                "},{text:"Utilize o código abaixo para o template do componente.",code:"\n/*appUserList.template.js*/\n\nexport default ({props, state}) => {\n\n    const repeat = (template, dataArr) => {\n        return dataArr.map(item => template(item)).join('')\n    }\n\n    const userTpl = (user) => /*html*/ `\n        <app-user data-props=\"{'userId': '${user.id}'}\"></app-user>\n    `\n    \n    return /*html*/ `\n        <div class=\"user-list-wrapper\">\n            ${repeat(userTpl, state.userList)}\n        </div>\n    `\n}                                \n"},{text:"Acima, no template, repeat espera receber um fragmento de template para repeti-lo com base em um array de dados. No trecho abaixo, o fragmento userTpl é passado como parametro para repeat jundo com a lista de usuários.",code:'\n    return /*html*/ `\n        <div class="user-list-wrapper">\n            ${repeat(userTpl, state.userList)}\n        </div>\n    `                                \n                                '},{text:"Observe que userTpl contém o componente appUser que ainda não foi criado. Ainda nessa sessão vamos criá-lo."},{text:"O próximo passo é criar os estilos do componente.",code:"\n/*appUserList.styles.js*/\n\nexport default () => /*css*/ `\n    app-user-list .user-list-wrapper {\n        display:block;\n        float:left;\n        width:100%;\n    }\n`\n\n                                "},{text:"Com o template e estilos já definidos, é preciso definir o código do componente.",code:"\nimport template from './appUserList.template'\nimport styles from './appUserList.styles'\n\nimport { appUser } from '../appUser/appUser.component'\nimport { store } from '../../store'\n\nconst appUserList = () => {\n\n    const state = {\n        userList: store.get().userList\n    }\n\n    const children = () => ({\n        appUser\n    })\n\n    const hooks = ({ state, methods }) => ({\n        beforeOnInit() {\n            store.subscribe(({ search }) => {\n                const userList = search?.userList\n                const hasChanges = methods.hasChanges(state.get().userList, userList)\n                if (hasChanges && userList) state.set({userList})\n            })\n        }\n    })   \n    \n    const methods = ({props, state}) => ({\n        \n        hasChanges (oldState, newState) {\n            const oldStateJson = JSON.stringify(oldState)\n            const newStateJson = JSON.stringify(newState)\n            return oldStateJson !== newStateJson\n        },\n\n    })\n\n    return {\n        state,\n        template,\n        styles,\n        children,\n        hooks, \n        methods\n    }\n}\n\nexport { appUserList }                                \n                                "},{text:"Primeiro importamos as dependências do componente. Inclusive appUser que ainda não existe. Por isso, se você testar agora a aplcação ocorrerá um erro. Mas não se precupe logo iremos criá-lo.",code:"\nimport template from './appUserList.template'\nimport styles from './appUserList.styles'\n\nimport { appUser } from '../appUser/appUser.component'\nimport { store } from '../../store'                                \n                                "},{text:"Observe que dentro da factory appUser, definimos o state local do componente e registramos appUser como filho de appUserList.",code:"\nconst state = {\n    userList: store.get().userList\n}\n\nconst children = () => ({\n    appUser\n})                                \n                                "},{text:"Na sequeência, através do hooks beforeOnInit o componente se inscreve para ouvir mudanças na store através do método subscribe da própria store.",code:"\nconst hooks = ({ state, methods }) => ({\n    beforeOnInit() {\n        store.subscribe(({ search }) => {\n            const userList = search?.userList\n            const hasChanges = methods.hasChanges(state.get().userList, userList)\n            if (hasChanges && userList) state.set({userList})\n        })\n    }\n})                                 \n                                "},{text:"O código acima garante que o componente será atualizado somente quando o state local for diferente da store."},{text:"A comparação entre estado local e store só é possíve, por causa da factoryMethods que devolve um objeto contendo os métodos do componete. Esse objeto foi acessado no hook beforeOnInit. Veja abaixo:",code:"\nconst methods = ({props, state}) => ({\n    \n    hasChanges (oldState, newState) {\n        const oldStateJson = JSON.stringify(oldState)\n        const newStateJson = JSON.stringify(newState)\n        return oldStateJson !== newStateJson\n    },\n\n})                                \n                                "},{text:"O componente appUserList está concluído. Mas, ainda é ncessário criar o componente appUser registrado como filho de appUserList, caso contrário a aplicação vai quebrar."},{text:"A partir de agora, implementaremos o componente appUser."},{text:"Na pasta components crie a pasta appUser e dentro dela os arquivos:",code:"\nappUser.component.js\nappUser.template.js\nappUser.styles.js                                \n                                "},{text:"Comece implementando o template:",code:"\n*appUser.template.js*/\n\nexport default ({props, state, methods}) => {\n\n    const userId = props.object.userId\n\n    const notHaveButtons = () => props.object.hideButtons && props.object.hideButtons === true\n    \n    const buttonsTpl = () => {\n        if (notHaveButtons()) return ''\n        return /*html*/ `\n            <div class=\"user-buttons\">\n                <app-link data-props=\"{'hash': '#/user/${props.object.userId}', 'label':'Histórico'}\"></app-link>\n                <app-mark-to data-props=\"{'type':'user', 'userId': '${userId}'}\"></app-mark-top>\n            </div>        \n        `\n    }\n    \n    return /*html*/ `\n    <div class=\"user-wrapper ${methods.isSelected(userId) && !notHaveButtons() ? 'selected' : ''}\">\n        <div class=\"user-name\"> ${methods.getFullName(userId)}</div>\n        <div class=\"user-cpf\">CPF: ${state.cpf}</div>\n        ${buttonsTpl()}\n    </div>`\n}\n                                "},{text:"No trecho abaixo, o template obtem o id do cliente/usuário e define uma função que verifica se deve ou não exibir botões de controle.",code:"\nconst userId = props.object.userId\nconst notHaveButtons = () => props.object.hideButtons && props.object.hideButtons === true                                \n                                "},{text:"Na sequência é definido o fragmento de template que adiciona os botões de controle de acordo com a funçao de verificação definida anteriormente.",code:"\n    const buttonsTpl = () => {\n        if (notHaveButtons()) return ''\n        return /*html*/ `\n            <div class=\"user-buttons\">\n                <app-link data-props=\"{'hash': '#/user/${props.object.userId}', 'label':'Histórico'}\"></app-link>\n                <app-mark-to data-props=\"{'type':'user', 'userId': '${userId}'}\"></app-mark-top>\n            </div>        \n        `\n    }                                \n                                "},{text:'No trecho acima, buttonsTpl faz uso de um componente extra "appLink" que deve redirecionar para uma rota contendo o id do usuário se for clicado.'},{text:"Por fim, como pode ver abaixo, o template exibe os dados do do usuário/cliente e verifica se o mesmo está marcado para uma operação de locação. Caso esteja, o template do usuário/cliente é destaco.",code:'\n    return /*html*/ `\n    <div class="user-wrapper ${methods.isSelected(userId) && !notHaveButtons() ? \'selected\' : \'\'}">\n        <div class="user-name"> ${methods.getFullName(userId)}</div>\n        <div class="user-cpf">CPF: ${state.cpf}</div>\n        ${buttonsTpl()}\n    </div>`                                \n                                '},{text:"O próximo passo agora é implementar os estilos do componente.",code:"\n/*appUser.styles.js*/\n\nexport default () => /*css*/ `\n    app-user .user-wrapper {\n        display:block;\n        float:left;\n        width:100%;\n        padding:15px;\n        margin-bottom:15px;\n        border-radius:4px;\n        border:1px #f7f6f8 solid;\n        background:#fff;\n        box-shadow: 3px 3px 3px #f4f3f6;\n        text-align:left;\n    }\n\n    app-user .selected {border-color:#2ad58e}\n\n    app-user .user-name,\n    app-user .user-cpf {\n        display:block;\n        float:left;\n        width:100%;\n        padding-bottom: 15px;\n        border-bottom:1px #ebebeb solid;\n        margin-bottom:15px;\n    }\n\n    app-user .user-name {\n        font-weight:700;\n        margin-bottom:0;\n        border-bottom:none;\n    }\n    \n    app-user .user-name,\n    app-user .user-cpf {\n        display:block;\n        float:left;\n        width:100%;\n        padding-bottom: 15px;\n        border-bottom:1px #ebebeb solid;\n        color:#666;\n        font-size:1em;\n        text-transform:uppercase;\n        line-height:1.5em;\n    }\n\n    app-user .user-cpf {\n        text-transform: none;\n        padding-top:15px;\n    }    \n\n    app-user .user-buttons {\n        display:block;\n        float:left;\n        width:100%;\n        text-align:right;\n    }\n\n`\n\n                                "},{text:"Por fim, você deve implementar o código abaixo para o componente:",code:"\nimport styles from './appUser.styles'\nimport template from './appUser..template'\n\nimport { appLink } from '../appLink/appLink.component'\nimport { appMarkTo } from '../appMarkTo/appMarkTo.component'\n\nimport { store } from '../../store'\n\nconst appUser = () => {\n\n    const state = {\n        cpf:'',\n        fullName:'',\n        selected: false,\n        userList: store.get().userList,\n    }\n\n    const children = () => ({\n        appLink,\n        appMarkTo\n    })\n\n    const hooks = ({methods}) => ({\n\n        beforeOnInit () {\n            store.subscribe((payload) => {\n                methods.userInOperation(payload) ? methods.selectUser() : methods.unselectUser()\n            })\n        },\n\n        afterOnInit () {\n            \n            methods.setCpf()\n        }\n\n    })\n\n    const methods = ({props, state}) => ({\n        \n        setCpf () {\n            const {userId} = props.get().object\n            const {userList} = state.get()\n            const {cpf} = userList.find( user => +user.id === +userId)\n            state.set({cpf})\n        },\n\n        getFullName (userId) {\n            const { userList } = state.get()\n            const user = userList.find( user => +user.id === +userId)\n            return `${ user.name } ${ user.lastName }`\n        },\n\n        isSelected (userId) {\n            const { operation } = store.get()\n            return (operation.client !== null && +operation.client.id === +userId)\n        },\n\n        selectUser () {\n            state.set({selected: true})\n        },\n        unselectUser () {\n            state.set({ selected: false })\n        },\n\n        userInOperation(dataStore) {\n            const { operation } = dataStore\n            const { object } = props.get()\n            return operation.client !== null && +operation.client.id === +object.userId\n        }\n\n    })\n\n    return {\n        state,\n        template,\n        styles,\n        children,\n        hooks,\n        methods\n    }\n}\n\nexport { appUser }                                \n                                "},{text:"Primeiro, foram importadas as dependências do componente. Inclusive, appLink que ainda não foi criado. Faremos isso logo a seguir.",code:"\nimport styles from './appUser.styles'\nimport template from './appUser..template'\n\nimport { appLink } from '../appLink/appLink.component'\nimport { appMarkTo } from '../appMarkTo/appMarkTo.component'\n\nimport { store } from '../../store'                                \n                                "},{text:"No trecho de código abaixo, o state local foi declarado e os componentes filhos registrados.",code:"\n    const state = {\n        cpf:'',\n        fullName:'',\n        selected: false,\n        userList: store.get().userList,\n    }\n\n    const children = () => ({\n        appLink,\n        appMarkTo\n    })                                \n                                "},{text:"Esse componente faz uso de dois hooks."},{text:"Primeiro, beforeOnInit para observar mudanças na store de dados."},{text:"O segundo hooks utilizado foi afterOnInit. Assim, logo que o componente é inicializado o cpf do cliente é definido no state local através da execução do método setCpf.",code:"\n    const hooks = ({methods}) => ({\n\n        beforeOnInit () {\n            store.subscribe((payload) => {\n                methods.userInOperation(payload) ? methods.selectUser() : methods.unselectUser()\n            })\n        },\n\n        afterOnInit () {\n            \n            methods.setCpf()\n        }\n\n    })                                \n                                "},{text:"Então, os métodos usados no template e nos hooks são declarados.",code:"\n    const methods = ({props, state}) => ({\n        \n        setCpf () {\n            const {userId} = props.get().object\n            const {userList} = state.get()\n            const {cpf} = userList.find( user => +user.id === +userId)\n            state.set({cpf})\n        },\n\n        getFullName (userId) {\n            const { userList } = state.get()\n            const user = userList.find( user => +user.id === +userId)\n            return `${ user.name } ${ user.lastName }`\n        },\n\n        isSelected (userId) {\n            const { operation } = store.get()\n            return (operation.client !== null && +operation.client.id === +userId)\n        },\n\n        selectUser () {\n            state.set({selected: true})\n        },\n\n        unselectUser () {\n            state.set({ selected: false })\n        },\n\n        userInOperation(dataStore) {\n            const { operation } = dataStore\n            const { object } = props.get()\n            return operation.client !== null && +operation.client.id === +object.userId\n        }\n\n    })                                \n                                "},{text:"Como esse componente depende de appLink e appLink ainda não foi criado, faremos isso agora."},{text:"Crie uma pasta appLink dentro da pasta componentes e dentro da pasta os três arquivos abaixo:",code:"\nappLink.component.js\nappLink.template.js\nappLink.styles.js                                \n                                "},{text:"App link é um componente muito simples. Tudo que ele faz é exibir um texto no botão e redirecinar para a rota passada através de suas propriedades reativas. Veja abaixo:",code:'\n/*appLink.template.js*/\n\nexport default ({ props, state }) => /*html*/ `\n    <div class="link-wrapper">\n        <a href="${props.object.hash}" class="link">\n            <i class="las la-plus"></i> ${props.object.label}\n        </a>    \n    </div>\n`                                \n                                '},{text:"O css desse componente também é bem simples:",code:"\n/*appLink.styles.js*/\n\nexport default () => /*css*/ `\n    app-link .link-wrapper {\n        display:inline-block;\n    }\n\n    app-link .selected {border-color:#2ad58e}    \n    \n    app-link .link {\n        display:block;\n        float:left;\n        width:100%;\n        padding:10px 15px;\n        border-radius:4px;\n        font-size: .875em;\n        text-align:center;\n        border:1px #fff solid;\n        color:#d2cad8;\n        background:#f7f7f8;\n        text-decoration:none;\n        outline:none;\n        transition:.2s ease-in\n    }\n\n    app-link .link:hover {\n        border:1px #2ad58e solid;\n        color:#2ad58e;\n        background:#fff;\n    }\n`\n                                "},{text:"O css utilizado poderia ser usado para formatar o comportamento visual de qualquer botão html."},{text:"Por fim, a implementação do componente.",code:"\n/*appLink.componente.js*/\n\nimport template from './appLink.template'\nimport styles from './appLink.styles'\n\nconst appLink = () => {\n\n    return {\n        template,\n        styles\n    }\n\n}\n\nexport { appLink }\n                                "},{text:"Veja que o componente só junta tudo em uma peça e é exportado para ser reusado quantas vezes necessarias."},{text:"Como o componente que acabou de ser criado já foi previamente importado por appUser. Não há mais o que fazer. Então vai lá, pode testar a aplicação."}]},{title:"Gerenciando operações de locação.",paragraphs:[{text:"Na sessão anterior concluímos os componentes para exibição dos filmes e clientes registrados na aplicação. Porém, as operações de locação ainda não estão sendo administradas. Faremos isso agora."},{text:"Para gerenciar as operações de locação, será necessário criar um componente novo e reutilizar appUser e appMovie. Some uma operação pode ser realizada por vez e somente um filme e um cliente pode ser registrado para cada operação."},{text:"Na pasta componentes crie a pasta appSidebar e dentro dela os arquivos:",code:"\nappSidebar.component.js\nappSidebar.template.js\nappSidebar.styles.js                                \n                                "},{text:"Para facilitar o entendimento, dessa vez comece implementando o compontent:",code:"\n/*appSidebar.component.js*/\n\nimport template from './appSidebar.template'\nimport styles from './appSidebar.styles'\n\nimport { appUser } from '../appUser/appUser.component'\nimport { appMovie } from '../appMovie/appMovie.component'\nimport { store } from '../../store'\n\nconst appSidebar = () => {\n\n    const state = {\n        client: null,\n        movie: null,\n        showSidebar: false\n    }\n\n    const children = () => ({\n        appUser,\n        appMovie\n    })\n\n    const hooks = ({state, methods}) => ({\n        beforeOnInit () {\n            store.subscribe((dataStore) => {\n                const { client, movie } = dataStore.operation\n                let showSidebar = methods.hasClientAndMovie()\n                state.set({client, movie, showSidebar})\n            })\n        }\n    })\n\n    const events = ({query, on, methods}) => ({\n        onClickToCancel () {\n            const btnCancel = query('.btn-cancel')\n            if(!btnCancel) return\n            on('click', [btnCancel], methods.clearOperation)\n        },\n\n        onClickToConfirm () {\n            const btnSuccess = query('.btn-success')\n            if(!btnSuccess) return\n            on('click', [btnSuccess], methods.saveOperation)\n        }\n    })\n\n    const methods = ({props, state}) => ({\n\n        clearOperation () {\n            store.update((dataStore) => {\n                dataStore.operation = {client:null, movie:null}\n            })\n        },\n\n        saveOperation () {\n            store.update((dataStore) => {\n                const {movie, client} = state.get()\n                const user = dataStore.userList.find( user => +user.id === +client.id)\n                user.movies.push(movie)\n                dataStore.operation = { client: null, movie: null }\n            })\n        },\n    \n        hasClientAndMovie () {\n            const { operation } = store.get()\n            return (operation.client && operation.movie) !== null\n        }\n\n    })\n    return {\n        state,\n        methods,\n        children,\n        hooks,\n        events,\n        template,\n        styles\n    }\n}\n\nexport { appSidebar }\n                                "},{text:"No trecho abaixo foram importadas as dependẽncias do componente, inclusive appUser e appMovie que serão reutilizados.",code:"\nimport template from './appSidebar.template'\nimport styles from './appSidebar.styles'\n\nimport { appUser } from '../appUser/appUser.component'\nimport { appMovie } from '../appMovie/appMovie.component'\nimport { store } from '../../store'                                \n                                "},{text:"Observe que em seguida o state local foi definido e os componentes filhos de appSidebar foram registrados:",code:"\n    const state = {\n        client: null,\n        movie: null,\n        showSidebar: false\n    }\n\n    const children = () => ({\n        appUser,\n        appMovie\n    })                                \n                                "},{text:"Nesse outro trecho, o hook beforeOnInit é declarado. O componente se increve para ouvir mudanças nos dados da store. Caso ocorra uma mudança nos dados o componente verifica se existe cliente e filme marcados para uma operação de locação, decide se o sidebar deve ser exibido e atualiza o state local do componente.",code:"\n    const hooks = ({state, methods}) => ({\n        beforeOnInit () {\n            store.subscribe((dataStore) => {\n                const { client, movie } = dataStore.operation\n                let showSidebar = methods.hasClientAndMovie()\n                state.set({client, movie, showSidebar})\n            })\n        }\n    })                                \n                                "},{text:"Note que o operado do app precisa de uma forma para poder cancelar e salvar locações. O trecho abaixo adiciona dois eventos que permitem essa interação.",code:"\n    const events = ({query, on, methods}) => ({\n        onClickToCancel () {\n            const btnCancel = query('.btn-cancel')\n            if(!btnCancel) return\n            on('click', [btnCancel], methods.clearOperation)\n        },\n\n        onClickToConfirm () {\n            const btnSuccess = query('.btn-success')\n            if(!btnSuccess) return\n            on('click', [btnSuccess], methods.saveOperation)\n        }\n    })                                \n                                "},{text:"O manipulador de eventos onClicToCacel, registra um evento de click no botão cancelar e caso esse botão sejá clicada a operação de locação será removida pelo método clearOperation."},{text:"No caso do manipulador onClickToConfirm, é registrado um evento de click e caso o botão de confirmação seja clicado o método save operation adiconará um filme na lista de filmes locados do cliente através do método saveOperation."},{text:"Por fim, os métodos usados nos hooks, eventos e template são declarados.",code:"\nconst methods = ({props, state}) => ({\n\n        clearOperation () {\n            store.update((dataStore) => {\n                dataStore.operation = {client:null, movie:null}\n            })\n        },\n\n        saveOperation () {\n            store.update((dataStore) => {\n                const {movie, client} = state.get()\n                const user = dataStore.userList.find( user => +user.id === +client.id)\n                user.movies.push(movie)\n                dataStore.operation = { client: null, movie: null }\n            })\n        },\n    \n        hasClientAndMovie () {\n            const { operation } = store.get()\n            return (operation.client && operation.movie) !== null\n        }\n\n    })\n                                    \n                                "},{text:"Existem dois pontos importantíssimos que precisam de mais detalhes. O primeiro é o cancelamento de operações de locação. Veja abaixo:",code:"\n        clearOperation () {\n            store.update((dataStore) => {\n                dataStore.operation = {client:null, movie:null}\n            })\n        }                                \n                                "},{text:"Esse trecho de código define indiscriminadamente as propriedades client e movie da chave operation da store como nulas. Isso garante que a operação está cancelada."},{text:"Outro ponto importante trata da confirmação da operação. Veja a seguir:",code:"\n        saveOperation () {\n            store.update((dataStore) => {\n                const {movie, client} = state.get()\n                const user = dataStore.userList.find( user => +user.id === +client.id)\n                user.movies.push(movie)\n                dataStore.operation = { client: null, movie: null }\n            })\n        }                                \n                                "},{text:"Nesse trecho de código, a função saveOperation obtem os dados de clientes e filmes extraíndo-os do state local. Em seguida, a função procura pelo usuário/cliente selecionado e o salva na variável user. Por fim, o filme extraído do state local é inserido na propriedade movies do usuário/cliente selecionado e a operação então é definida como nula o que possíbilita uma nova operação de locação no futuro."},{text:"Por fim, o componente é exportado",code:"\n/*codigo omitido*/\n\nconst appSidebar = () => {\n    /*codigo omitido*/\n}\n\nexport { appSidebar }\n                        "},{text:"Agora será necesário importar o componente appSidebar em appHome e a aparência de appHome ficará assim:",code:"\n/*appHome.component.js*/\n\nimport template from './appHome.template'\nimport styles from './appHome.styles'\n\nimport { appTitle } from '../appTitle/appTitle.component'\nimport { appMovieList } from '../appMovieList/appMovieList.component'\nimport { appUserList } from '../appUserList/appUserList.component'\nimport { appSearch } from '../appSearch/appSearch.component'\nimport { appSidebar } from '../appSidebar/appSidebar.component'\n\nimport { store } from '../../store'\n\nconst appHome = () => {\n\n    const children = () => ({\n        appTitle,\n        appMovieList,\n        appUserList,\n        appSearch,\n        appSidebar\n    })\n\n    return {\n        template,\n        styles,\n        children,\n    }\n    \n}\n\nexport { appHome }\n                                "}]}]},{title:"Histórico de filmes locados.",tagline:"Muito mais produtividade com muito menos complexidade",articles:[{title:"Detalhes do usuário",paragraphs:[{text:"Para concluir a aplicação será necessário criar um último componente que exiba os filmes locados por cada usuário/cliente."},{text:"Dentro da pasta components, crie a pasta appUserDetail e dentro dela os arquivos abaixo:",code:"\nappUserDetail.component.js                                \nappUserDetail.template.js                                \nappUserDetail.styles.js                                \n                                "},{text:"Comece implementando o compoente:",code:"\nimport template from './appUserDetail.template'\nimport styles from './appUserDetail.styles'\n\nimport { store } from '../../store'\nimport { appUser } from '../appUser/appUser.component'\nimport { appMovie } from '../appMovie/appMovie.component'\nimport { appTitle } from '../appTitle/appTitle.component'\nimport { appLink } from '../appLink/appLink.component'\n\nconst appUserDetail = () => {\n\n    const state = {\n        user: null\n    }\n    \n    const children = () => ({ \n        appMovie,\n        appTitle,\n        appLink,\n        appUser\n    })\n\n    const hooks = ({methods}) => ({\n       \n        beforeOnInit () {\n            methods.getUserById()\n        }\n\n    })\n\n    const methods = ({props, state}) => ({\n\n        getHashId () {\n            return +window.location.hash.split('/').pop()\n        },\n\n        getUserById () {\n            const userId = this.getHashId()\n            const user = store.get().userList.find( user => user.id === userId)\n            state.set({ user })\n        }\n\n    })\n\n    return {\n        template,\n        styles,\n        methods,\n        hooks,\n        children\n    }\n\n}\n\nexport { appUserDetail }                                \n                                "},{text:"No trecho abaixo, todas as dependências do componente são importadas.",code:"\nimport template from './appUserDetail.template'\nimport styles from './appUserDetail.styles'\n\nimport { store } from '../../store'\nimport { appUser } from '../appUser/appUser.component'\nimport { appMovie } from '../appMovie/appMovie.component'\nimport { appTitle } from '../appTitle/appTitle.component'\nimport { appLink } from '../appLink/appLink.component'                                \n                                "},{text:"Observe que o componente appUserDetail reaproveita appUser, appMovie, appTitle para exibir as informações necessárias."},{text:"appUserDetail também permitirá a navegação entre as páginas através do componente appLink."},{text:"No trecho a seguir, o state local é declarado e os componentes filhos registrados.",code:"\n    const state = {\n        user: null\n    }\n    \n    const children = () => ({ \n        appMovie,\n        appTitle,\n        appLink,\n        appUser\n    })                                \n                                "},{text:"Na sequência o componente registra o hook beforeOnInit para obter o id do usuário selecionado para então exibir suas informações na tela.",code:"\n    const hooks = ({methods}) => ({\n       \n        beforeOnInit () {\n            methods.getUserById()\n        }\n\n    })                                \n                                "},{text:"Observe que appUserDetail registra duas funções apenas. A primeira é getHashId que obtém o id do usuário/cliente através do hash na url da página e a segunda é getUserById que recupera o usuário na store de dados através do id de usuário obtido por getHashId.",code:"\n    const methods = ({props, state}) => ({\n\n        getHashId () {\n            return +window.location.hash.split('/').pop()\n        },\n\n        getUserById () {\n            const userId = this.getHashId()\n            const user = store.get().userList.find( user => user.id === userId)\n            state.set({ user })\n        }\n\n    })                                \n                                "},{text:"Por fim, a função fabrica retorna as propriedades do compoenente e é exportada:",code:"\n/*codigo omitido*/\n\nconst appUserDetail = () => {\n    \n    /*codigo omitido*/\n\n    return {\n        template,\n        styles,\n        methods,\n        hooks,\n        children\n    }\n\n}\n\nexport { appUserDetail }                                \n                                "},{text:"Hora de definir o template do componente:",code:"\n/*appUserDetail.template.js*/\n\nexport default ({props, state}) => {\n    const repeat = (template, dataArr) => {\n        return dataArr.map(item => template(item)).join('')\n    }\n\n    const movieTpl = (movie) => /*html*/ `\n        <div class=\"grid\">\n            <app-movie data-props=\"{'movieId': '${movie.id}', 'hideButtons':true}\"></app-movie>\n        </div>\n    `   \n\n    return /*html*/ `\n        <div class=\"detail-wrapper\">\n        <app-title data-props=\"{'title':'Hitórico de locações', 'style':'purple'}\"></app-title>\n            <div class=\"content\">\n                <div class=\"row\">\n                    <app-link data-props=\"{'hash': '#/', 'label':'Voltar'}\"></app-link>\n                </div>\n                <div class=\"row\">\n                    <app-title data-props=\"{'title':'Dados do cliente', 'style':'white'}\"></app-title>\n                </div>\n                <div class=\"row\">\n                    <app-user data-props=\"{'userId': '${state.user.id}', 'hideButtons':true}\"></app-user>\n                </div>\n                <div class=\"row\">\n                    <app-title data-props=\"{'title':'Histórico de locação', 'style':'white'}\"></app-title>\n                </div>\n                ${repeat(movieTpl, state.user.movies)}    \n            </div>\n        </div>\n    `\n\n}\n                                "},{text:"No trecho abaixo, é definido o fragmento de template movieTpl que faz uso do componente appMovie e que será repetido de acordo com a lista de filmes alugada pelo usuário/clente. Isso só é possível porque appMovie recebe atraves da propriedade reativa movieId o id do filme a ser listado.",code:"\n    const movieTpl = (movie) => /*html*/ `\n        <div class=”grid”>\n            <app-movie data-props=”{'movieId': '${movie.id}', 'hideButtons':true}”></app-movie>\n        </div>\n    `                                 \n                                "},{text:"Por fim, todos os componentes filhos utilizados pelo template recebem através de propriedades reativas as informações das quais dependem. Inclusive, appUser que exibe os dados do usuário, também faz uso desse recurso.",code:"\n    return /*html*/ `\n        <div class=\"detail-wrapper\">\n        <app-title data-props=\"{'title':'Hitórico de locações', 'style':'purple'}\"></app-title>\n            <div class=\"content\">\n                <div class=\"row\">\n                    <app-link data-props=\"{'hash': '#/', 'label':'Voltar'}\"></app-link>\n                </div>\n                <div class=\"row\">\n                    <app-title data-props=\"{'title':'Dados do cliente', 'style':'white'}\"></app-title>\n                </div>\n                <div class=\"row\">\n                    <app-user data-props=\"{'userId': '${state.user.id}', 'hideButtons':true}\"></app-user>\n                </div>\n                <div class=\"row\">\n                    <app-title data-props=\"{'title':'Histórico de locação', 'style':'white'}\"></app-title>\n                </div>\n                ${repeat(movieTpl, state.user.movies)}    \n            </div>\n        </div>\n    `                                \n                                "},{text:"Hora de implementar os estilos do componente.",code:"\n/*appUserDetail.styles.js*/\n\nexport default () => /*css*/ `\n    app-user-detail .detail-wrapper {\n        display:block;\n        float:left;\n        width:100%;\n        padding:15px;\n    }\n\n    app-user-detail .content {\n        display:block;\n        width:100%;\n        max-width:1180px;\n        margin:0 auto;\n    }\n\n    app-user-detail .grid {\n        display:block;\n        float:left;\n        width:33.333%;\n        padding:15px 15px 0 15px;\n    }\n\n    app-user-detail .row {\n        display:block;\n        float:left;\n        width:100%;\n        padding:15px;\n        text-align:right;\n    }\n\n`                                \n                                "},{text:"CSS aplicado! Temos concluído o componente appUserDetail. Mas, ainda resta importá-lo nas rotas de navegação para que tudo funcione corretamente.",code:"\n/*main.js*/\n\n/*codigo omitido*/\n\nimport { appUserDetail } from './components/appUserDetail/appUserDetail.component'\n\n/*codigo omitido*/\n\nconst routes = {\n    firstRoute: { hash: '#/', component: appHome },\n    defaultRoute: { hash: '#/404', component: appNotFound },\n    otherRoutes: [\n        { hashExp: /^#/$/, component: appHome },\n        { hashExp: /^#/user/d+$/, component: appUserDetail },\n    ]\n}\n\n/*codigo omitido*/\n                                "},{text:"Finalmente conluímos a aplicação. Pode ir lá testar!"}]}]},{title:"Conclusão",tagline:"Padrões e reatividade com factory functions",articles:[{title:"Conceitos abordados",paragraphs:[{text:"Até aqui você já aprendeu os principais conceitos e recursos de r9x. Você já viu como é rápido construir aplicações com r9x. Tudo que precisa fazer agora é seguir praticando. Boa sorte!"}]}]}]}});exports.store=o;
},{"r9x_js":"GOCc"}],"wQ4d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t){var e=t.props;t.state;return e.object.type&&"mini"===e.object.type?'\n    <div class="title-wrapper">\n        <h3 class="sub-title">'.concat(e.object.title,"</h3>\n    </div>\n    "):e.object.type&&"big"===e.object.type?'\n    <div class="title-wrapper">\n        <h2 class="title">'.concat(e.object.title,"</h2>\n    </div>\n    "):e.object.type&&"super"!==e.object.type?void 0:'\n    <div class="title-wrapper">\n        <h1 class="super-title">'.concat(e.object.title,"</h1>\n    </div>\n    ")};exports.default=t;
},{}],"RvGU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(){return"\n    app-title .title-wrapper {\n        display:block;\n        float:left;\n        width:100%;\n        padding:15px 0;\n        margin:30px 0;\n        border-bottom:1px #d9dce1 solid;\n    }\n\n    app-title .sub-title {\n        font-size: 1.2rem;\n        font-weight:700;\n    }\n    \n    app-title .title {\n        font-size: 2rem;\n        font-weight:700;\n    }\n    \n    app-title .super-title {\n        font-size: 2.5rem;\n        font-weight:700;\n    }\n\n    app-title h1,\n    app-title h2,\n    app-title h3 {\n        color: #667185;\n    }\n\n"};exports.default=t;
},{}],"ZV0J":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.appTitle=void 0;var e=p(require("./appTitle.template")),t=p(require("./appTitle.styles"));function p(e){return e&&e.__esModule?e:{default:e}}var r=function(){return{tagName:"app-title",template:e.default,styles:t.default}};exports.appTitle=r;
},{"./appTitle.template":"wQ4d","./appTitle.styles":"RvGU"}],"YEuU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t){var a=t.props,e=t.state,c=(t.methods,e[a.object.section].sections.map(function(t){var a="",e="",c="";return a=t.title?"<app-title data-props=\"{'title':'".concat(t.title,"', 'type':'big'}\"></app-title>"):"",e=t.tagline?'<p class="tagline">'.concat(t.tagline,"</p>"):"",t.articles&&t.articles.length&&(c=t.articles.map(function(t){var a,e;return t.title&&(a="<app-title data-props=\"{'title':'".concat(t.title,"', 'type':'mini'}\"></app-title>")),e=t.paragraphs.map(function(t){var a,e="";return!t.text||""===t.text||(a='<p class="paragraph">'.concat(t.text,"</p>")),!t.code||""===t.code||(e='<app-code data-text="'.concat(t.code.replace(/["]/g,"&#148;"),'"></app-code>')),"".concat(a||""," ").concat(e||"")}).join(""),"".concat(a," ").concat(e)}).join("")),"\n        ".concat(a," \n        ").concat(e,"\n        ").concat(c,"\n        ")}).join(""));return'\n    <div class="view-wrapper">\n        <div class="container">\n        '.concat(c,"\n        </div>\n\n    </div>\n")};exports.default=t;
},{}],"HJ3o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(){return"\n    app-view .view-wrapper {\n        display:block;\n        float:left;\n        width:100%;\n        padding-bottom:45px;\n    }\n\n    app-view .container {\n        display:block;\n        width:100%;\n        max-width:1180px;\n        margin:0 auto;\n        padding-top:15px;\n    }\n\n    app-view .container::after {\n        content:'';\n        display:block;\n        width:100%;\n        clear:both;\n    }\n\n    app-view .tagline {\n        display: block;\n        float: left;\n        width: 100%;\n        padding: 15px;\n        margin: 15px 0;\n        border-radius: 4px;\n        font-size: .875em;\n        color: #667185;\n        background: #f9f9f9;\n        text-transform: uppercase;\n        font-weight: 900;\n    }\n\n    app-view .paragraph {\n        display:block;\n        float:left;\n        width:100%;\n        padding:15px 0;\n        line-height:1.5em;\n        font-size: 1.2em;\n        color:#667185;\n    }\n"};exports.default=n;
},{}],"iXmX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){return"\n    .content-wrapper {\n        display:block;\n        float:left;\n        width:100%;\n    }\n"};exports.default=e;
},{}],"jSD1":[function(require,module,exports) {
module.exports=function(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8};
},{}],"F8IV":[function(require,module,exports) {
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};
},{}],"g5IB":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"wqTM":[function(require,module,exports) {
var process = require("process");
var e=require("process"),t=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},r=/%[sdj%]/g;exports.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}n=1;for(var o=arguments,u=o.length,s=String(e).replace(r,function(e){if("%%"===e)return"%";if(n>=u)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":try{return JSON.stringify(o[n++])}catch(t){return"[Circular]"}default:return e}}),c=o[n];n<u;c=o[++n])h(c)||!S(c)?s+=" "+c:s+=" "+i(c);return s},exports.deprecate=function(t,r){if(void 0!==e&&!0===e.noDeprecation)return t;if(void 0===e)return function(){return exports.deprecate(t,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),n=!0}return t.apply(this,arguments)}};var n,o={};function i(e,t){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),b(t)?r.showHidden=t:t&&exports._extend(r,t),j(r.showHidden)&&(r.showHidden=!1),j(r.depth)&&(r.depth=2),j(r.colors)&&(r.colors=!1),j(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),p(r,e,r.depth)}function u(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function s(e,t){return e}function c(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function p(e,t,r){if(e.customInspect&&t&&P(t.inspect)&&t.inspect!==exports.inspect&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return v(n)||(n=p(e,n,r)),n}var o=l(e,t);if(o)return o;var i=Object.keys(t),u=c(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(t)),E(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return f(t);if(0===i.length){if(P(t)){var s=t.name?": "+t.name:"";return e.stylize("[Function"+s+"]","special")}if(w(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(z(t))return e.stylize(Date.prototype.toString.call(t),"date");if(E(t))return f(t)}var b,h="",m=!1,x=["{","}"];(d(t)&&(m=!0,x=["[","]"]),P(t))&&(h=" [Function"+(t.name?": "+t.name:"")+"]");return w(t)&&(h=" "+RegExp.prototype.toString.call(t)),z(t)&&(h=" "+Date.prototype.toUTCString.call(t)),E(t)&&(h=" "+f(t)),0!==i.length||m&&0!=t.length?r<0?w(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),b=m?a(e,t,r,u,i):i.map(function(n){return y(e,t,r,u,n,m)}),e.seen.pop(),g(b,h,x)):x[0]+h+x[1]}function l(e,t){if(j(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return x(t)?e.stylize(""+t,"number"):b(t)?e.stylize(""+t,"boolean"):h(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function a(e,t,r,n,o){for(var i=[],u=0,s=t.length;u<s;++u)A(t,String(u))?i.push(y(e,t,r,n,String(u),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(y(e,t,r,n,o,!0))}),i}function y(e,t,r,n,o,i){var u,s,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),A(n,o)||(u="["+o+"]"),s||(e.seen.indexOf(c.value)<0?(s=h(r)?p(e,c.value,null):p(e,c.value,r-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),j(u)){if(i&&o.match(/^\d+$/))return s;(u=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=e.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=e.stylize(u,"string"))}return u+": "+s}function g(e,t,r){return e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function d(e){return Array.isArray(e)}function b(e){return"boolean"==typeof e}function h(e){return null===e}function m(e){return null==e}function x(e){return"number"==typeof e}function v(e){return"string"==typeof e}function O(e){return"symbol"==typeof e}function j(e){return void 0===e}function w(e){return S(e)&&"[object RegExp]"===T(e)}function S(e){return"object"==typeof e&&null!==e}function z(e){return S(e)&&"[object Date]"===T(e)}function E(e){return S(e)&&("[object Error]"===T(e)||e instanceof Error)}function P(e){return"function"==typeof e}function D(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function T(e){return Object.prototype.toString.call(e)}function N(e){return e<10?"0"+e.toString(10):e.toString(10)}exports.debuglog=function(t){if(j(n)&&(n=""),t=t.toUpperCase(),!o[t])if(new RegExp("\\b"+t+"\\b","i").test(n)){var r=e.pid;o[t]=function(){var e=exports.format.apply(exports,arguments);console.error("%s %d: %s",t,r,e)}}else o[t]=function(){};return o[t]},exports.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=d,exports.isBoolean=b,exports.isNull=h,exports.isNullOrUndefined=m,exports.isNumber=x,exports.isString=v,exports.isSymbol=O,exports.isUndefined=j,exports.isRegExp=w,exports.isObject=S,exports.isDate=z,exports.isError=E,exports.isFunction=P,exports.isPrimitive=D,exports.isBuffer=require("./support/isBuffer");var F=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var e=new Date,t=[N(e.getHours()),N(e.getMinutes()),N(e.getSeconds())].join(":");return[e.getDate(),F[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}exports.log=function(){console.log("%s - %s",k(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,t){if(!t||!S(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var J="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function R(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}function H(r){if("function"!=typeof r)throw new TypeError('The "original" argument must be of type Function');function n(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var o=t.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,u=function(){return o.apply(i,arguments)};r.apply(this,t).then(function(t){e.nextTick(u,null,t)},function(t){e.nextTick(R,t,u)})}return Object.setPrototypeOf(n,Object.getPrototypeOf(r)),Object.defineProperties(n,t(r)),n}exports.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(J&&e[J]){var r;if("function"!=typeof(r=e[J]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,J,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push(function(e,n){e?r(e):t(n)});try{e.apply(this,o)}catch(u){r(u)}return n}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),J&&Object.defineProperty(r,J,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,t(e))},exports.promisify.custom=J,exports.callbackify=H;
},{"./support/isBuffer":"jSD1","inherits":"F8IV","process":"g5IB"}],"NIRD":[function(require,module,exports) {
!function(e){var t=e.Markdown=function(e){switch(typeof e){case"undefined":this.dialect=t.dialects.Gruber;break;case"object":this.dialect=e;break;default:if(!(e in t.dialects))throw new Error("Unknown Markdown dialect '"+String(e)+"'");this.dialect=t.dialects[e]}this.em_state=[],this.strong_state=[],this.debug_indent=""};function n(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function r(){var e=require("util");return"Markdown.mk_block( "+e.inspect(this.toString())+", "+e.inspect(this.trailing)+", "+e.inspect(this.lineNumber)+" )"}e.parse=function(e,n){return new t(n).toTree(e)},e.toHTML=function(t,n,r){var i=e.toHTMLTree(t,n,r);return e.renderJsonML(i)},e.toHTMLTree=function(e,t,n){"string"==typeof e&&(e=this.parse(e,t));var r=u(e),i={};r&&r.references&&(i=r.references);var l=function e(t,n,r){var i;r=r||{};var l=t.slice(0);"function"==typeof r.preprocessTreeNode&&(l=r.preprocessTreeNode(l,n));var s=u(l);if(s){for(i in l[1]={},s)l[1][i]=s[i];s=l[1]}if("string"==typeof l)return l;switch(l[0]){case"header":l[0]="h"+l[1].level,delete l[1].level;break;case"bulletlist":l[0]="ul";break;case"numberlist":l[0]="ol";break;case"listitem":l[0]="li";break;case"para":l[0]="p";break;case"markdown":l[0]="html",s&&delete s.references;break;case"code_block":l[0]="pre",i=s?2:1;var a=["code"];a.push.apply(a,l.splice(i,l.length-i)),l[i]=a;break;case"inlinecode":l[0]="code";break;case"img":l[1].src=l[1].href,delete l[1].href;break;case"linebreak":l[0]="br";break;case"link":l[0]="a";break;case"link_ref":l[0]="a";var c=n[s.ref];if(!c)return s.original;delete s.ref,s.href=c.href,c.title&&(s.title=c.title),delete s.original;break;case"img_ref":l[0]="img";var c=n[s.ref];if(!c)return s.original;delete s.ref,s.src=c.href,c.title&&(s.title=c.title),delete s.original}i=1;if(s){for(var o in l[1]){i=2;break}1===i&&l.splice(i,1)}for(;i<l.length;++i)l[i]=e(l[i],n,r);return l}(e,i,n);return function e(t){var n=u(t)?2:1;for(;n<t.length;)"string"==typeof t[n]?n+1<t.length&&"string"==typeof t[n+1]?t[n]+=t.splice(n+1,1)[0]:++n:(e(t[n]),++n)}(l),l};var i=t.mk_block=function(e,t,i){1==arguments.length&&(t="\n\n");var l=new String(e);return l.trailing=t,l.inspect=r,l.toSource=n,null!=i&&(l.lineNumber=i),l};function l(e){for(var t=0,n=-1;-1!==(n=e.indexOf("\n",n+1));)t++;return t}function s(e,t){var n=e+"_state",r="strong"==e?"em_state":"strong_state";function i(e){this.len_after=e,this.name="close_"+t}return function(l,s){if(this[n][0]==t)return this[n].shift(),[l.length,new i(l.length-t.length)];var a=this[r].slice(),c=this[n].slice();this[n].unshift(t);var o=this.processInline(l.substr(t.length)),h=o[o.length-1];this[n].shift();return h instanceof i?(o.pop(),[l.length-h.len_after,[e].concat(o)]):(this[r]=a,this[n]=c,[t.length,t])}}t.prototype.split_blocks=function(e,t){e=e.replace(/(\r\n|\n|\r)/g,"\n");var n,r=/([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g,s=[],a=1;for(null!=(n=/^(\s*\n)/.exec(e))&&(a+=l(n[0]),r.lastIndex=n[0].length);null!==(n=r.exec(e));)"\n#"==n[2]&&(n[2]="\n",r.lastIndex--),s.push(i(n[1],n[2],a)),a+=l(n[0]);return s},t.prototype.processBlock=function(e,t){var n=this.dialect.block,r=n.__order__;if("__call__"in n)return n.__call__.call(this,e,t);for(var i=0;i<r.length;i++){var l=n[r[i]].call(this,e,t);if(l)return(!o(l)||l.length>0&&!o(l[0]))&&this.debug(r[i],"didn't return a proper array"),l}return[]},t.prototype.processInline=function(e){return this.dialect.inline.__call__.call(this,String(e))},t.prototype.toTree=function(e,t){var n=e instanceof Array?e:this.split_blocks(e),r=this.tree;try{for(this.tree=t||this.tree||["markdown"];n.length;){var i=this.processBlock(n.shift(),n);i.length&&this.tree.push.apply(this.tree,i)}return this.tree}finally{t&&(this.tree=r)}},t.prototype.debug=function(){var e=Array.prototype.slice.call(arguments);e.unshift(this.debug_indent),"undefined"!=typeof print&&print.apply(print,e),"undefined"!=typeof console&&void 0!==console.log&&console.log.apply(null,e)},t.prototype.loop_re_over_block=function(e,t,n){for(var r,i=t.valueOf();i.length&&null!=(r=e.exec(i));)i=i.substr(r[0].length),n.call(this,r);return i},t.dialects={},t.dialects.Gruber={block:{atxHeader:function(e,t){var n=e.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(n){var r=["header",{level:n[1].length}];return Array.prototype.push.apply(r,this.processInline(n[2])),n[0].length<e.length&&t.unshift(i(e.substr(n[0].length),e.trailing,e.lineNumber+2)),[r]}},setextHeader:function(e,t){var n=e.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(n){var r=["header",{level:"="===n[2]?1:2},n[1]];return n[0].length<e.length&&t.unshift(i(e.substr(n[0].length),e.trailing,e.lineNumber+2)),[r]}},code:function(e,t){var n=[],r=/^(?: {0,3}\t| {4})(.*)\n?/;if(e.match(r)){e:for(;;){var l=this.loop_re_over_block(r,e.valueOf(),function(e){n.push(e[1])});if(l.length){t.unshift(i(l,e.trailing));break e}if(!t.length)break e;if(!t[0].match(r))break e;n.push(e.trailing.replace(/[^\n]/g,"").substring(2)),e=t.shift()}return[["code_block",n.join("\n")]]}},horizRule:function(e,t){var n=e.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(n){var r=[["hr"]];return n[1]&&r.unshift.apply(r,this.processBlock(n[1],[])),n[3]&&t.unshift(i(n[3])),r}},lists:function(){var e="[*+-]|\\d+\\.",t=/[*+-]/,n=new RegExp("^( {0,3})("+e+")[ \t]+"),r="(?: {0,3}\\t| {4})";function l(e,t,n,r){if(t)e.push(["para"].concat(n));else{var i=e[e.length-1]instanceof Array&&"para"==e[e.length-1][0]?e[e.length-1]:e;r&&e.length>1&&n.unshift(r);for(var l=0;l<n.length;l++){var s=n[l];"string"==typeof s&&i.length>1&&"string"==typeof i[i.length-1]?i[i.length-1]+=s:i.push(s)}}}function s(e,t){for(var n=new RegExp("^("+r+"{"+e+"}.*?\\n?)*$"),l=new RegExp("^"+r+"{"+e+"}","gm"),s=[];t.length>0&&n.exec(t[0]);){var a=t.shift(),c=a.replace(l,"");s.push(i(c,a.trailing,a.lineNumber))}return s}function a(e,t,n){var r=e.list,i=r[r.length-1];if(!(i[1]instanceof Array&&"para"==i[1][0]))if(t+1==n.length)i.push(["para"].concat(i.splice(1,i.length-1)));else{var l=i.pop();i.push(["para"].concat(i.splice(1,i.length-1)),l)}}return function(i,o){var h=i.match(n);if(h){for(var u,f,p,g=[],v=j(h),_=!1,d=[g[0].list];;){for(var b=i.split(/(?=\n)/),k="",m=0;m<b.length;m++){var y="",w=b[m].replace(/^\n/,function(e){return y=e,""}),$=(p=g.length,new RegExp("(?:^("+r+"{0,"+p+"} {0,3})("+e+")\\s+)|(^"+r+"{0,"+(p-1)+"}[ ]{0,4})"));if(void 0!==(h=w.match($))[1]){k.length&&(l(u,_,this.processInline(k),y),_=!1,k=""),h[1]=h[1].replace(/ {0,3}\t/g,"    ");var M=Math.floor(h[1].length/4)+1;if(M>g.length)v=j(h),u.push(v),u=v[1]=["listitem"];else{var x=!1;for(f=0;f<g.length;f++)if(g[f].indent==h[1]){v=g[f].list,g.splice(f+1,g.length-(f+1)),x=!0;break}x||(++M<=g.length?(g.splice(M,g.length-M),v=g[M-1].list):(v=j(h),u.push(v))),u=["listitem"],v.push(u)}y=""}w.length>h[0].length&&(k+=y+w.substr(h[0].length))}k.length&&(l(u,_,this.processInline(k),y),_=!1,k="");var S=s(g.length,o);S.length>0&&(c(g,a,this),u.push.apply(u,this.toTree(S,[])));var A=o[0]&&o[0].valueOf()||"";if(!A.match(n)&&!A.match(/^ /))break;i=o.shift();var I=this.dialect.block.horizRule(i,o);if(I){d.push.apply(d,I);break}c(g,a,this),_=!0}return d}function j(e){var n=t.exec(e[2])?["bulletlist"]:["numberlist"];return g.push({list:n,indent:e[1]}),n}}}(),blockquote:function(e,t){if(e.match(/^>/m)){var n=[];if(">"!=e[0]){for(var r=e.split(/\n/),l=[],s=e.lineNumber;r.length&&">"!=r[0][0];)l.push(r.shift()),s++;var a=i(l.join("\n"),"\n",e.lineNumber);n.push.apply(n,this.processBlock(a,[])),e=i(r.join("\n"),e.trailing,s)}for(;t.length&&">"==t[0][0];){var c=t.shift();e=i(e+e.trailing+c,c.trailing,e.lineNumber)}var o=e.replace(/^> ?/gm,""),f=(this.tree,this.toTree(o,["blockquote"])),p=u(f);return p&&p.references&&(delete p.references,h(p)&&f.splice(1,1)),n.push(f),n}},referenceDefn:function(e,t){var n=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(e.match(n)){u(this.tree)||this.tree.splice(1,0,{});var r=u(this.tree);void 0===r.references&&(r.references={});var l=this.loop_re_over_block(n,e,function(e){e[2]&&"<"==e[2][0]&&">"==e[2][e[2].length-1]&&(e[2]=e[2].substring(1,e[2].length-1));var t=r.references[e[1].toLowerCase()]={href:e[2]};void 0!==e[4]?t.title=e[4]:void 0!==e[5]&&(t.title=e[5])});return l.length&&t.unshift(i(l,e.trailing)),[]}},para:function(e,t){return[["para"].concat(this.processInline(e))]}}},t.dialects.Gruber.inline={__oneElement__:function(e,t,n){var r,i;return t=t||this.dialect.inline.__patterns__,(r=new RegExp("([\\s\\S]*?)("+(t.source||t)+")").exec(e))?r[1]?[r[1].length,r[1]]:(r[2]in this.dialect.inline&&(i=this.dialect.inline[r[2]].call(this,e.substr(r.index),r,n||[])),i=i||[r[2].length,r[2]]):[e.length,e]},__call__:function(e,t){var n,r=[];function i(e){"string"==typeof e&&"string"==typeof r[r.length-1]?r[r.length-1]+=e:r.push(e)}for(;e.length>0;)n=this.dialect.inline.__oneElement__.call(this,e,t,r),e=e.substr(n.shift()),c(n,i);return r},"]":function(){},"}":function(){},__escape__:/^\\[\\`\*_{}\[\]()#\+.!\-]/,"\\":function(e){return this.dialect.inline.__escape__.exec(e)?[2,e.charAt(1)]:[1,"\\"]},"![":function(e){var t=e.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(t){t[2]&&"<"==t[2][0]&&">"==t[2][t[2].length-1]&&(t[2]=t[2].substring(1,t[2].length-1)),t[2]=this.dialect.inline.__call__.call(this,t[2],/\\/)[0];var n={alt:t[1],href:t[2]||""};return void 0!==t[4]&&(n.title=t[4]),[t[0].length,["img",n]]}return(t=e.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/))?[t[0].length,["img_ref",{alt:t[1],ref:t[2].toLowerCase(),original:t[0]}]]:[2,"!["]},"[":function(e){var n=String(e),r=t.DialectHelpers.inline_until_char.call(this,e.substr(1),"]");if(!r)return[1,"["];var i,l,s=1+r[0],a=r[1],c=(e=e.substr(s)).match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(c){var o=c[1];if(s+=c[0].length,o&&"<"==o[0]&&">"==o[o.length-1]&&(o=o.substring(1,o.length-1)),!c[3])for(var h=1,u=0;u<o.length;u++)switch(o[u]){case"(":h++;break;case")":0==--h&&(s-=o.length-u,o=o.substring(0,u))}return l={href:(o=this.dialect.inline.__call__.call(this,o,/\\/)[0])||""},void 0!==c[3]&&(l.title=c[3]),i=["link",l].concat(a),[s,i]}return(c=e.match(/^\s*\[(.*?)\]/))?(s+=c[0].length,i=["link_ref",l={ref:(c[1]||String(a)).toLowerCase(),original:n.substr(0,s)}].concat(a),[s,i]):1==a.length&&"string"==typeof a[0]?(i=["link_ref",l={ref:a[0].toLowerCase(),original:n.substr(0,s)},a[0]],[s,i]):[1,"["]},"<":function(e){var t;return null!=(t=e.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?t[3]?[t[0].length,["link",{href:"mailto:"+t[3]},t[3]]]:"mailto"==t[2]?[t[0].length,["link",{href:t[1]},t[1].substr("mailto:".length)]]:[t[0].length,["link",{href:t[1]},t[1]]]:[1,"<"]},"`":function(e){var t=e.match(/(`+)(([\s\S]*?)\1)/);return t&&t[2]?[t[1].length+t[2].length,["inlinecode",t[3]]]:[1,"`"]},"  \n":function(e){return[3,["linebreak"]]}},t.dialects.Gruber.inline["**"]=s("strong","**"),t.dialects.Gruber.inline.__=s("strong","__"),t.dialects.Gruber.inline["*"]=s("em","*"),t.dialects.Gruber.inline._=s("em","_"),t.buildBlockOrder=function(e){var t=[];for(var n in e)"__order__"!=n&&"__call__"!=n&&t.push(n);e.__order__=t},t.buildInlinePatterns=function(e){var t=[];for(var n in e)if(!n.match(/^__.*__$/)){var r=n.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");t.push(1==n.length?r:"(?:"+r+")")}t=t.join("|"),e.__patterns__=t;var i=e.__call__;e.__call__=function(e,n){return null!=n?i.call(this,e,n):i.call(this,e,t)}},t.DialectHelpers={},t.DialectHelpers.inline_until_char=function(e,t){for(var n=0,r=[];;){if(e.charAt(n)==t)return[++n,r];if(n>=e.length)return null;var i=this.dialect.inline.__oneElement__.call(this,e.substr(n));n+=i[0],r.push.apply(r,i.slice(1))}},t.subclassDialect=function(e){function t(){}function n(){}return t.prototype=e.block,n.prototype=e.inline,{block:new t,inline:new n}},t.buildBlockOrder(t.dialects.Gruber.block),t.buildInlinePatterns(t.dialects.Gruber.inline),t.dialects.Maruku=t.subclassDialect(t.dialects.Gruber),t.dialects.Maruku.processMetaHash=function(e){for(var t=function(e){var t=e.split(""),n=[""],r=!1;for(;t.length;){var i=t.shift();switch(i){case" ":r?n[n.length-1]+=i:n.push("");break;case"'":case'"':r=!r;break;case"\\":i=t.shift();default:n[n.length-1]+=i}}return n}(e),n={},r=0;r<t.length;++r)if(/^#/.test(t[r]))n.id=t[r].substring(1);else if(/^\./.test(t[r]))n.class?n.class=n.class+t[r].replace(/./," "):n.class=t[r].substring(1);else if(/\=/.test(t[r])){var i=t[r].split(/\=/);n[i[0]]=i[1]}return n},t.dialects.Maruku.block.document_meta=function(e,t){if(!(e.lineNumber>1)&&e.match(/^(?:\w+:.*\n)*\w+:.*$/)){u(this.tree)||this.tree.splice(1,0,{});var n=e.split(/\n/);for(p in n){var r=n[p].match(/(\w+):\s*(.*)$/),i=r[1].toLowerCase(),l=r[2];this.tree[1][i]=l}return[]}},t.dialects.Maruku.block.block_meta=function(e,t){var n=e.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(n){var r,i=this.dialect.processMetaHash(n[2]);if(""===n[1]){var l=this.tree[this.tree.length-1];if(r=u(l),"string"==typeof l)return;for(a in r||(r={},l.splice(1,0,r)),i)r[a]=i[a];return[]}var s=e.replace(/\n.*$/,""),c=this.processBlock(s,[]);for(a in(r=u(c[0]))||(r={},c[0].splice(1,0,r)),i)r[a]=i[a];return c}},t.dialects.Maruku.block.definition_list=function(e,t){var n,r=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,i=["dl"];if(a=e.match(r)){for(var l=[e];t.length&&r.exec(t[0]);)l.push(t.shift());for(var s=0;s<l.length;++s){var a,c=(a=l[s].match(r))[1].replace(/\n$/,"").split(/\n/),o=a[2].split(/\n:\s+/);for(n=0;n<c.length;++n)i.push(["dt",c[n]]);for(n=0;n<o.length;++n)i.push(["dd"].concat(this.processInline(o[n].replace(/(\n)\s+/,"$1"))))}return[i]}},t.dialects.Maruku.block.table=function(e,t){var n,r,i=function(e,t){(t=t||"\\s").match(/^[\\|\[\]{}?*.+^$]$/)&&(t="\\"+t);for(var n,r=[],i=new RegExp("^((?:\\\\.|[^\\\\"+t+"])*)"+t+"(.*)");n=e.match(i);)r.push(n[1]),e=n[2];return r.push(e),r};if(r=e.match(/^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/))r[3]=r[3].replace(/^\s*\|/gm,"");else if(!(r=e.match(/^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/)))return;var l=["table",["thead",["tr"]],["tbody"]];r[2]=r[2].replace(/\|\s*$/,"").split("|");var s=[];for(c(r[2],function(e){e.match(/^\s*-+:\s*$/)?s.push({align:"right"}):e.match(/^\s*:-+\s*$/)?s.push({align:"left"}):e.match(/^\s*:-+:\s*$/)?s.push({align:"center"}):s.push({})}),r[1]=i(r[1].replace(/\|\s*$/,""),"|"),n=0;n<r[1].length;n++)l[1][1].push(["th",s[n]||{}].concat(this.processInline(r[1][n].trim())));return c(r[3].replace(/\|\s*$/gm,"").split("\n"),function(e){var t=["tr"];for(e=i(e,"|"),n=0;n<e.length;n++)t.push(["td",s[n]||{}].concat(this.processInline(e[n].trim())));l[2].push(t)},this),[l]},t.dialects.Maruku.inline["{:"]=function(e,t,n){if(!n.length)return[2,"{:"];var r=n[n.length-1];if("string"==typeof r)return[2,"{:"];var i=e.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!i)return[2,"{:"];var l=this.dialect.processMetaHash(i[1]),s=u(r);for(var a in s||(s={},r.splice(1,0,s)),l)s[a]=l[a];return[i[0].length,""]},t.dialects.Maruku.inline.__escape__=/^\\[\\`\*_{}\[\]()#\+.!\-|:]/,t.buildBlockOrder(t.dialects.Maruku.block),t.buildInlinePatterns(t.dialects.Maruku.inline);var c,o=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)};c=Array.prototype.forEach?function(e,t,n){return e.forEach(t,n)}:function(e,t,n){for(var r=0;r<e.length;r++)t.call(n||e,e[r],r,e)};var h=function(e){for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0};function u(e){return o(e)&&e.length>1&&"object"==typeof e[1]&&!o(e[1])?e[1]:void 0}function f(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function g(e){if("string"==typeof e)return f(e);var t=e.shift(),n={},r=[];for(!e.length||"object"!=typeof e[0]||e[0]instanceof Array||(n=e.shift());e.length;)r.push(g(e.shift()));var i="";for(var l in n)i+=" "+l+'="'+f(n[l])+'"';return"img"==t||"br"==t||"hr"==t?"<"+t+i+"/>":"<"+t+i+">"+r.join("")+"</"+t+">"}e.renderJsonML=function(e,t){(t=t||{}).root=t.root||!1;var n=[];if(t.root)n.push(g(e));else for(e.shift(),!e.length||"object"!=typeof e[0]||e[0]instanceof Array||e.shift();e.length;)n.push(g(e.shift()));return n.join("\n\n")}}("undefined"==typeof exports?(window.markdown={},window.markdown):exports);
},{"util":"wqTM"}],"FmXw":[function(require,module,exports) {
exports.markdown=require("./markdown"),exports.parse=exports.markdown.toHTML;
},{"./markdown":"NIRD"}],"iElu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("markdown"),e=function(t){var e,s=t.props,r=(t.state,t.methods);return'\n    <div class="content-wrapper">\n        <pre>\n            <code class="'.concat((e=s.text,/\*html\*/.test(e)?"html":/\*css\*/.test(e)?"css":"javascript"),'">').concat(r.htmlScape(s.text),"</code>\n        </pre>\n    </div>")};exports.default=e;
},{"markdown":"FmXw"}],"afUf":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];function n(e){Object.freeze(e);var t="function"==typeof e;return Object.getOwnPropertyNames(e).forEach(function(r){!Object.hasOwnProperty.call(e,r)||null===e[r]||"object"!=typeof e[r]&&"function"!=typeof e[r]||t&&("caller"===r||"callee"===r||"arguments"===r)||Object.isFrozen(e[r])||n(e[r])}),e}class t{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data}ignoreMatch(){this.ignore=!0}}function r(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function a(e,...n){var t={};for(const r in e)t[r]=e[r];return n.forEach(function(e){for(const n in e)t[n]=e[n]}),t}function i(e){return e.nodeName.toLowerCase()}function s(e){var n=[];return function e(t,r){for(var a=t.firstChild;a;a=a.nextSibling)3===a.nodeType?r+=a.nodeValue.length:1===a.nodeType&&(n.push({event:"start",offset:r,node:a}),r=e(a,r),i(a).match(/br|hr|img|input/)||n.push({event:"stop",offset:r,node:a}));return r}(e,0),n}function o(e,n,t){var a=0,s="",o=[];function l(){return e.length&&n.length?e[0].offset!==n[0].offset?e[0].offset<n[0].offset?e:n:"start"===n[0].event?e:n:e.length?e:n}function c(e){s+="<"+i(e)+[].map.call(e.attributes,function(e){return" "+e.nodeName+'="'+r(e.value)+'"'}).join("")+">"}function u(e){s+="</"+i(e)+">"}function g(e){("start"===e.event?c:u)(e.node)}for(;e.length||n.length;){var d=l();if(s+=r(t.substring(a,d[0].offset)),a=d[0].offset,d===e){o.reverse().forEach(u);do{g(d.splice(0,1)[0]),d=l()}while(d===e&&d.length&&d[0].offset===a);o.reverse().forEach(c)}else"start"===d[0].event?o.push(d[0].node):o.pop(),g(d.splice(0,1)[0])}return s+r(t.substr(a))}var l=Object.freeze({__proto__:null,escapeHTML:r,inherit:a,nodeStream:s,mergeStreams:o});const c="</span>",u=e=>!!e.kind;class g{constructor(e,n){this.buffer="",this.classPrefix=n.classPrefix,e.walk(this)}addText(e){this.buffer+=r(e)}openNode(e){if(!u(e))return;let n=e.kind;e.sublanguage||(n=`${this.classPrefix}${n}`),this.span(n)}closeNode(e){u(e)&&(this.buffer+=c)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}class d{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const n={kind:e,children:[]};this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,n){return"string"==typeof n?e.addText(n):n.children&&(e.openNode(n),n.children.forEach(n=>this._walk(e,n)),e.closeNode(n)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every(e=>"string"==typeof e)?e.children=[e.children.join("")]:e.children.forEach(e=>{d._collapse(e)}))}}class h extends d{constructor(e){super(),this.options=e}addKeyword(e,n){""!==e&&(this.openNode(n),this.addText(e),this.closeNode())}addText(e){""!==e&&this.add(e)}addSublanguage(e,n){const t=e.root;t.kind=n,t.sublanguage=!0,this.add(t)}toHTML(){return new g(this,this.options).value()}finalize(){return!0}}function f(e){return new RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}function p(e){return e?"string"==typeof e?e:e.source:null}function m(...e){return e.map(e=>p(e)).join("")}function b(e){return new RegExp(e.toString()+"|").exec("").length-1}function v(e,n){var t=e&&e.exec(n);return t&&0===t.index}function x(e,n="|"){for(var t=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./,r=0,a="",i=0;i<e.length;i++){var s=r+=1,o=p(e[i]);for(i>0&&(a+=n),a+="(";o.length>0;){var l=t.exec(o);if(null==l){a+=o;break}a+=o.substring(0,l.index),o=o.substring(l.index+l[0].length),"\\"===l[0][0]&&l[1]?a+="\\"+String(Number(l[1])+s):(a+=l[0],"("===l[0]&&r++)}a+=")"}return a}const w="[a-zA-Z]\\w*",E="[a-zA-Z_]\\w*",_="\\b\\d+(\\.\\d+)?",N="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",R="\\b(0b[01]+)",y="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",k=(e={})=>{const n=/^#![ ]*\//;return e.binary&&(e.begin=m(n,/.*\b/,e.binary,/\b.*/)),a({className:"meta",begin:n,end:/$/,relevance:0,"on:begin":(e,n)=>{0!==e.index&&n.ignoreMatch()}},e)},O={begin:"\\\\[\\s\\S]",relevance:0},M={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[O]},L={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[O]},S={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},T=function(e,n,t={}){var r=a({className:"comment",begin:e,end:n,contains:[]},t);return r.contains.push(S),r.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),r},A=T("//","$"),I=T("/\\*","\\*/"),j=T("#","$"),B={className:"number",begin:_,relevance:0},D={className:"number",begin:N,relevance:0},P={className:"number",begin:"\\b(0b[01]+)",relevance:0},C={className:"number",begin:_+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},H={begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[O,{begin:/\[/,end:/\]/,relevance:0,contains:[O]}]}]},z={className:"title",begin:w,relevance:0},U={className:"title",begin:"[a-zA-Z_]\\w*",relevance:0},$={begin:"\\.\\s*[a-zA-Z_]\\w*",relevance:0},K=function(e){return Object.assign(e,{"on:begin":(e,n)=>{n.data._beginMatch=e[1]},"on:end":(e,n)=>{n.data._beginMatch!==e[1]&&n.ignoreMatch()}})};var G=Object.freeze({__proto__:null,IDENT_RE:w,UNDERSCORE_IDENT_RE:"[a-zA-Z_]\\w*",NUMBER_RE:_,C_NUMBER_RE:N,BINARY_NUMBER_RE:"\\b(0b[01]+)",RE_STARTERS_RE:y,SHEBANG:k,BACKSLASH_ESCAPE:O,APOS_STRING_MODE:M,QUOTE_STRING_MODE:L,PHRASAL_WORDS_MODE:S,COMMENT:T,C_LINE_COMMENT_MODE:A,C_BLOCK_COMMENT_MODE:I,HASH_COMMENT_MODE:j,NUMBER_MODE:B,C_NUMBER_MODE:D,BINARY_NUMBER_MODE:P,CSS_NUMBER_MODE:C,REGEXP_MODE:H,TITLE_MODE:z,UNDERSCORE_TITLE_MODE:U,METHOD_GUARD:$,END_SAME_AS_BEGIN:K}),X="of and for in not or if then".split(" ");function Z(e){function n(n,t){return new RegExp(p(n),"m"+(e.case_insensitive?"i":"")+(t?"g":""))}class t{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,n){n.position=this.position++,this.matchIndexes[this.matchAt]=n,this.regexes.push([n,e]),this.matchAt+=b(e)+1}compile(){0===this.regexes.length&&(this.exec=(()=>null));const e=this.regexes.map(e=>e[1]);this.matcherRe=n(x(e),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const n=this.matcherRe.exec(e);if(!n)return null;const t=n.findIndex((e,n)=>n>0&&void 0!==e),r=this.matchIndexes[t];return n.splice(0,t),Object.assign(n,r)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const n=new t;return this.rules.slice(e).forEach(([e,t])=>n.addRule(e,t)),n.compile(),this.multiRegexes[e]=n,n}resumingScanAtSamePosition(){return 0!=this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,n){this.rules.push([e,n]),"begin"===n.type&&this.count++}exec(e){const n=this.getMatcher(this.regexIndex);n.lastIndex=this.lastIndex;const t=n.exec(e);return t&&(this.regexIndex+=t.position+1,this.regexIndex===this.count&&(this.regexIndex=0)),t}}function a(e,n){const t=e.input[e.index-1],r=e.input[e.index+e[0].length];"."!==t&&"."!==r||n.ignoreMatch()}if(e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return function t(i,s){const o=i;if(i.compiled)return o;i.compiled=!0,i.__beforeBegin=null,i.keywords=i.keywords||i.beginKeywords;let l=null;if("object"==typeof i.keywords&&(l=i.keywords.$pattern,delete i.keywords.$pattern),i.keywords&&(i.keywords=q(i.keywords,e.case_insensitive)),i.lexemes&&l)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return o.keywordPatternRe=n(i.lexemes||l||/\w+/,!0),s&&(i.beginKeywords&&(i.begin="\\b("+i.beginKeywords.split(" ").join("|")+")(?=\\b|\\s)",i.__beforeBegin=a),i.begin||(i.begin=/\B|\b/),o.beginRe=n(i.begin),i.endSameAsBegin&&(i.end=i.begin),i.end||i.endsWithParent||(i.end=/\B|\b/),i.end&&(o.endRe=n(i.end)),o.terminator_end=p(i.end)||"",i.endsWithParent&&s.terminator_end&&(o.terminator_end+=(i.end?"|":"")+s.terminator_end)),i.illegal&&(o.illegalRe=n(i.illegal)),void 0===i.relevance&&(i.relevance=1),i.contains||(i.contains=[]),i.contains=[].concat(...i.contains.map(function(e){return W("self"===e?i:e)})),i.contains.forEach(function(e){t(e,o)}),i.starts&&t(i.starts,s),o.matcher=function(e){const n=new r;return e.contains.forEach(e=>n.addRule(e.begin,{rule:e,type:"begin"})),e.terminator_end&&n.addRule(e.terminator_end,{type:"end"}),e.illegal&&n.addRule(e.illegal,{type:"illegal"}),n}(o),o}(e)}function F(e){return!!e&&(e.endsWithParent||F(e.starts))}function W(e){return e.variants&&!e.cached_variants&&(e.cached_variants=e.variants.map(function(n){return a(e,{variants:null},n)})),e.cached_variants?e.cached_variants:F(e)?a(e,{starts:e.starts?a(e.starts):null}):Object.isFrozen(e)?a(e):e}function q(e,n){var t={};return"string"==typeof e?r("keyword",e):Object.keys(e).forEach(function(n){r(n,e[n])}),t;function r(e,r){n&&(r=r.toLowerCase()),r.split(" ").forEach(function(n){var r=n.split("|");t[r[0]]=[e,J(r[0],r[1])]})}}function J(e,n){return n?Number(n):Y(e)?0:1}function Y(e){return X.includes(e.toLowerCase())}var Q="10.2.0";function V(e){return Boolean(e||""===e)}const ee={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted(){if(!this.autoDetect&&!hljs.getLanguage(this.language))return console.warn(`The language "${this.language}" you specified could not be found.`),this.unknownLanguage=!0,r(this.code);let e;return this.autoDetect?(e=hljs.highlightAuto(this.code),this.detectedLanguage=e.language):(e=hljs.highlight(this.language,this.code,this.ignoreIllegals),this.detectectLanguage=this.language),e.value},autoDetect(){return!this.language||V(this.autodetect)},ignoreIllegals:()=>!0},render(e){return e("pre",{},[e("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}},ne={install(e){e.component("highlightjs",ee)}},te=r,re=a,{nodeStream:ae,mergeStreams:ie}=l,se=Symbol("nomatch"),oe=function(e){var r=[],a=Object.create(null),i=Object.create(null),s=[],o=!0,l=/(^(<[^>]+>|\t|)+|\n)/gm,c="Could not find the language '{}', did you forget to load/include a language module?";const u={disableAutodetect:!0,name:"Plain text",contains:[]};var g={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:h};function d(e){return g.noHighlightRe.test(e)}function p(e,n,t,r){var a={code:n,language:e};y("before:highlight",a);var i=a.result?a.result:m(a.language,a.code,t,r);return i.code=a.code,y("after:highlight",i),i}function m(e,n,r,i){var s=n;function l(e,n){var t=E.case_insensitive?n[0].toLowerCase():n[0];return Object.prototype.hasOwnProperty.call(e.keywords,t)&&e.keywords[t]}function u(){null!=y.subLanguage?function(){if(""!==M){var e=null;if("string"==typeof y.subLanguage){if(!a[y.subLanguage])return void O.addText(M);e=m(y.subLanguage,M,!0,k[y.subLanguage]),k[y.subLanguage]=e.top}else e=b(M,y.subLanguage.length?y.subLanguage:null);y.relevance>0&&(L+=e.relevance),O.addSublanguage(e.emitter,e.language)}}():function(){if(!y.keywords)return void O.addText(M);let e=0;y.keywordPatternRe.lastIndex=0;let n=y.keywordPatternRe.exec(M),t="";for(;n;){t+=M.substring(e,n.index);const r=l(y,n);if(r){const[e,a]=r;O.addText(t),t="",L+=a,O.addKeyword(n[0],e)}else t+=n[0];e=y.keywordPatternRe.lastIndex,n=y.keywordPatternRe.exec(M)}t+=M.substr(e),O.addText(t)}(),M=""}function d(e){return e.className&&O.openNode(e.className),y=Object.create(e,{parent:{value:y}})}function h(e){return 0===y.matcher.regexIndex?(M+=e[0],1):(A=!0,0)}function p(e){var n=e[0],r=s.substr(e.index),a=function e(n,r,a){let i=v(n.endRe,a);if(i){if(n["on:end"]){const e=new t(n);n["on:end"](r,e),e.ignore&&(i=!1)}if(i){for(;n.endsParent&&n.parent;)n=n.parent;return n}}if(n.endsWithParent)return e(n.parent,r,a)}(y,e,r);if(!a)return se;var i=y;i.skip?M+=n:(i.returnEnd||i.excludeEnd||(M+=n),u(),i.excludeEnd&&(M=n));do{y.className&&O.closeNode(),y.skip||y.subLanguage||(L+=y.relevance),y=y.parent}while(y!==a.parent);return a.starts&&(a.endSameAsBegin&&(a.starts.endRe=a.endRe),d(a.starts)),i.returnEnd?0:n.length}var x={};function w(n,a){var i=a&&a[0];if(M+=n,null==i)return u(),0;if("begin"===x.type&&"end"===a.type&&x.index===a.index&&""===i){if(M+=s.slice(a.index,a.index+1),!o){const n=new Error("0 width match regex");throw n.languageName=e,n.badRule=x.rule,n}return 1}if(x=a,"begin"===a.type)return function(e){var n=e[0],r=e.rule;const a=new t(r),i=[r.__beforeBegin,r["on:begin"]];for(const t of i)if(t&&(t(e,a),a.ignore))return h(n);return r&&r.endSameAsBegin&&(r.endRe=f(n)),r.skip?M+=n:(r.excludeBegin&&(M+=n),u(),r.returnBegin||r.excludeBegin||(M=n)),d(r),r.returnBegin?0:n.length}(a);if("illegal"===a.type&&!r){const e=new Error('Illegal lexeme "'+i+'" for mode "'+(y.className||"<unnamed>")+'"');throw e.mode=y,e}if("end"===a.type){var l=p(a);if(l!==se)return l}if("illegal"===a.type&&""===i)return 1;if(T>1e5&&T>3*a.index){throw new Error("potential infinite loop, way more iterations than matches")}return M+=i,i.length}var E=_(e);if(!E)throw console.error(c.replace("{}",e)),new Error('Unknown language: "'+e+'"');var N=Z(E),R="",y=i||N,k={},O=new g.__emitter(g);!function(){for(var e=[],n=y;n!==E;n=n.parent)n.className&&e.unshift(n.className);e.forEach(e=>O.openNode(e))}();var M="",L=0,S=0,T=0,A=!1;try{for(y.matcher.considerAll();;){T++,A?A=!1:(y.matcher.lastIndex=S,y.matcher.considerAll());const e=y.matcher.exec(s);if(!e&&y.matcher.resumingScanAtSamePosition()){M+=s[S],S+=1;continue}if(!e)break;const n=w(s.substring(S,e.index),e);S=e.index+n}return w(s.substr(S)),O.closeAllNodes(),O.finalize(),R=O.toHTML(),{relevance:L,value:R,language:e,illegal:!1,emitter:O,top:y}}catch(I){if(I.message&&I.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:I.message,context:s.slice(S-100,S+100),mode:I.mode},sofar:R,relevance:0,value:te(s),emitter:O};if(o)return{illegal:!1,relevance:0,value:te(s),emitter:O,language:e,top:y,errorRaised:I};throw I}}function b(e,n){n=n||g.languages||Object.keys(a);var t=function(e){const n={relevance:0,emitter:new g.__emitter(g),value:te(e),illegal:!1,top:u};return n.emitter.addText(e),n}(e),r=t;return n.filter(_).filter(R).forEach(function(n){var a=m(n,e,!1);a.language=n,a.relevance>r.relevance&&(r=a),a.relevance>t.relevance&&(r=t,t=a)}),r.language&&(t.second_best=r),t}function x(e){return g.tabReplace||g.useBR?e.replace(l,e=>"\n"===e?g.useBR?"<br>":e:g.tabReplace?e.replace(/\t/g,g.tabReplace):e):e}function w(e){let n=null;const t=function(e){var n=e.className+" ";n+=e.parentNode?e.parentNode.className:"";const t=g.languageDetectRe.exec(n);if(t){var r=_(t[1]);return r||(console.warn(c.replace("{}",t[1])),console.warn("Falling back to no-highlight mode for this block.",e)),r?t[1]:"no-highlight"}return n.split(/\s+/).find(e=>d(e)||_(e))}(e);if(d(t))return;y("before:highlightBlock",{block:e,language:t}),g.useBR?(n=document.createElement("div")).innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,"\n"):n=e;const r=n.textContent,a=t?p(t,r,!0):b(r),s=ae(n);if(s.length){const e=document.createElement("div");e.innerHTML=a.value,a.value=ie(s,ae(e),r)}a.value=x(a.value),y("after:highlightBlock",{block:e,result:a}),e.innerHTML=a.value,e.className=function(e,n,t){var r=n?i[n]:t,a=[e.trim()];return e.match(/\bhljs\b/)||a.push("hljs"),e.includes(r)||a.push(r),a.join(" ").trim()}(e.className,t,a.language),e.result={language:a.language,re:a.relevance,relavance:a.relevance},a.second_best&&(e.second_best={language:a.second_best.language,re:a.second_best.relevance,relavance:a.second_best.relevance})}const E=()=>{if(!E.called){E.called=!0;var e=document.querySelectorAll("pre code");r.forEach.call(e,w)}};function _(e){return e=(e||"").toLowerCase(),a[e]||a[i[e]]}function N(e,{languageName:n}){"string"==typeof e&&(e=[e]),e.forEach(e=>{i[e]=n})}function R(e){var n=_(e);return n&&!n.disableAutodetect}function y(e,n){var t=e;s.forEach(function(e){e[t]&&e[t](n)})}Object.assign(e,{highlight:p,highlightAuto:b,fixMarkup:function(e){return console.warn("fixMarkup is deprecated and will be removed entirely in v11.0"),console.warn("Please see https://github.com/highlightjs/highlight.js/issues/2534"),x(e)},highlightBlock:w,configure:function(e){g=re(g,e)},initHighlighting:E,initHighlightingOnLoad:function(){window.addEventListener("DOMContentLoaded",E,!1)},registerLanguage:function(n,t){var r=null;try{r=t(e)}catch(i){if(console.error("Language definition for '{}' could not be registered.".replace("{}",n)),!o)throw i;console.error(i),r=u}r.name||(r.name=n),a[n]=r,r.rawDefinition=t.bind(null,e),r.aliases&&N(r.aliases,{languageName:n})},listLanguages:function(){return Object.keys(a)},getLanguage:_,registerAliases:N,requireLanguage:function(e){var n=_(e);if(n)return n;throw new Error("The '{}' language is required, but not loaded.".replace("{}",e))},autoDetection:R,inherit:re,addPlugin:function(e){s.push(e)},vuePlugin:ne}),e.debugMode=function(){o=!1},e.safeMode=function(){o=!0},e.versionString=Q;for(const t in G)"object"==typeof G[t]&&n(G[t]);return Object.assign(e,G),e};var le=oe({});module.exports=le;
},{}],"c3te":[function(require,module,exports) {
const e="[A-Za-z$_][0-9A-Za-z$_]*",n=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],a=["true","false","null","undefined","NaN","Infinity"],s=["Intl","DataView","Number","Math","Date","String","RegExp","Object","Function","Boolean","Error","Symbol","Set","Map","WeakSet","WeakMap","Proxy","Reflect","JSON","Promise","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Float32Array","Array","Uint8Array","Uint8ClampedArray","ArrayBuffer"],r=["EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],t=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],i=["arguments","this","super","console","window","document","localStorage","module","global"],c=[].concat(t,i,s,r);function o(e){return e?"string"==typeof e?e:e.source:null}function l(e){return E("(?=",e,")")}function E(...e){return e.map(e=>o(e)).join("")}function d(s){var r=e,t="<>",i="</>",o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/},d={$pattern:e,keyword:n.join(" "),literal:a.join(" "),built_in:c.join(" ")},g={className:"number",variants:[{begin:"\\b(0[bB][01]+)n?"},{begin:"\\b(0[oO][0-7]+)n?"},{begin:s.C_NUMBER_RE+"n?"}],relevance:0},b={className:"subst",begin:"\\$\\{",end:"\\}",keywords:d,contains:[]},u={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[s.BACKSLASH_ESCAPE,b],subLanguage:"xml"}},_={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[s.BACKSLASH_ESCAPE,b],subLanguage:"css"}},N={className:"string",begin:"`",end:"`",contains:[s.BACKSLASH_ESCAPE,b]};b.contains=[s.APOS_STRING_MODE,s.QUOTE_STRING_MODE,u,_,N,g,s.REGEXP_MODE];var O=b.contains.concat([{begin:/\(/,end:/\)/,contains:["self"].concat(b.contains,[s.C_BLOCK_COMMENT_MODE,s.C_LINE_COMMENT_MODE])},s.C_BLOCK_COMMENT_MODE,s.C_LINE_COMMENT_MODE]),m={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,contains:O};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:d,contains:[s.SHEBANG({binary:"node",relevance:5}),{className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},s.APOS_STRING_MODE,s.QUOTE_STRING_MODE,u,_,N,s.C_LINE_COMMENT_MODE,s.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+",contains:[{className:"type",begin:"\\{",end:"\\}",relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),s.C_BLOCK_COMMENT_MODE,g,{begin:E(/[{,\n]\s*/,l(E(/(((\/\/.*$)|(\/\*(.|\n)*\*\/))\s*)*/,r+"\\s*:"))),relevance:0,contains:[{className:"attr",begin:r+l("\\s*:"),relevance:0}]},{begin:"("+s.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",contains:[s.C_LINE_COMMENT_MODE,s.C_BLOCK_COMMENT_MODE,s.REGEXP_MODE,{className:"function",begin:"(\\([^(]*(\\([^(]*(\\([^(]*\\))?\\))?\\)|"+s.UNDERSCORE_IDENT_RE+")\\s*=>",returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:s.UNDERSCORE_IDENT_RE},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:d,contains:O}]}]},{begin:/,/,relevance:0},{className:"",begin:/\s/,end:/\s*/,skip:!0},{variants:[{begin:t,end:i},{begin:o.begin,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}],relevance:0},{className:"function",beginKeywords:"function",end:/\{/,excludeEnd:!0,contains:[s.inherit(s.TITLE_MODE,{begin:r}),m],illegal:/\[|%/},{begin:/\$[(.]/},s.METHOD_GUARD,{className:"class",beginKeywords:"class",end:/[{;=]/,excludeEnd:!0,illegal:/[:"\[\]]/,contains:[{beginKeywords:"extends"},s.UNDERSCORE_TITLE_MODE]},{beginKeywords:"constructor",end:/\{/,excludeEnd:!0},{begin:"(get|set)\\s+(?="+r+"\\()",end:/{/,keywords:"get set",contains:[s.inherit(s.TITLE_MODE,{begin:r}),{begin:/\(\)/},m]}],illegal:/#(?!!)/}}module.exports=d;
},{}],"mhlv":[function(require,module,exports) {
function e(e){var n={className:"symbol",begin:"&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;"},a={begin:"\\s",contains:[{className:"meta-keyword",begin:"#?[a-z_][a-z1-9_-]+",illegal:"\\n"}]},s=e.inherit(a,{begin:"\\(",end:"\\)"}),t=e.inherit(e.APOS_STRING_MODE,{className:"meta-string"}),i=e.inherit(e.QUOTE_STRING_MODE,{className:"meta-string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:"[A-Za-z0-9\\._:-]+",relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[n]},{begin:/'/,end:/'/,contains:[n]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,contains:[{className:"meta",begin:"<![a-z]",end:">",relevance:10,contains:[a,i,t,s,{begin:"\\[",end:"\\]",contains:[{className:"meta",begin:"<![a-z]",end:">",contains:[a,s,i,t]}]}]},e.COMMENT("\x3c!--","--\x3e",{relevance:10}),{begin:"<\\!\\[CDATA\\[",end:"\\]\\]>",relevance:10},n,{className:"meta",begin:/<\?xml/,end:/\?>/,relevance:10},{className:"tag",begin:"<style(?=\\s|>)",end:">",keywords:{name:"style"},contains:[c],starts:{end:"</style>",returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:"<script(?=\\s|>)",end:">",keywords:{name:"script"},contains:[c],starts:{end:"<\/script>",returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:"</?",end:"/?>",contains:[{className:"name",begin:/[^\/><\s]+/,relevance:0},c]}]}}module.exports=e;
},{}],"ZAli":[function(require,module,exports) {
function e(e){var n={begin:/(?:[A-Z\_\.\-]+|--[a-zA-Z0-9_-]+)\s*:/,returnBegin:!0,end:";",endsWithParent:!0,contains:[{className:"attribute",begin:/\S/,end:":",excludeEnd:!0,starts:{endsWithParent:!0,excludeEnd:!0,contains:[{begin:/[\w-]+\(/,returnBegin:!0,contains:[{className:"built_in",begin:/[\w-]+/},{begin:/\(/,end:/\)/,contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.CSS_NUMBER_MODE]}]},e.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,e.C_BLOCK_COMMENT_MODE,{className:"number",begin:"#[0-9A-Fa-f]+"},{className:"meta",begin:"!important"}]}}]};return{name:"CSS",case_insensitive:!0,illegal:/[=\/|'\$]/,contains:[e.C_BLOCK_COMMENT_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/},{className:"selector-class",begin:/\.[A-Za-z0-9_-]+/},{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},{className:"selector-pseudo",begin:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{begin:"@(page|font-face)",lexemes:"@[a-z-]+",keywords:"@page @font-face"},{begin:"@",end:"[{;]",illegal:/:/,returnBegin:!0,contains:[{className:"keyword",begin:/@\-?\w[\w]*(\-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:"and or not only",contains:[{begin:/[a-z-]+:/,className:"attribute"},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},{begin:"{",end:"}",illegal:/\S/,contains:[e.C_BLOCK_COMMENT_MODE,n]}]}}module.exports=e;
},{}],"Nbu3":[function(require,module,exports) {

},{}],"fJIt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.appCode=void 0;var e=l(require("./appCode.styles")),t=l(require("./appCode.template")),r=l(require("highlight.js/lib/core")),a=l(require("highlight.js/lib/languages/javascript")),i=l(require("highlight.js/lib/languages/xml")),u=l(require("highlight.js/lib/languages/css"));function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}require("../../assets/editor.theme.css");var s=function(){return{tagName:"app-code",styles:e.default,template:t.default,hooks:function(e){var t=e.methods;return{afterOnInit:function(){t.initHighlight()}}},methods:function(e){var t=e.elm;e.props,e.state;return{initHighlight:function(){r.default.configure({languages:["xml","html","css","javascript"]}),r.default.registerLanguage("javascript",a.default),r.default.registerLanguage("xml",i.default),r.default.registerLanguage("css",u.default),t.querySelectorAll("pre code").forEach(function(e){r.default.highlightBlock(e)})},htmlScape:function(e){var t,r=(n(t={'"':"&#34;","&":"&amp;","<":"&lt;",">":"&gt;"},'"',"&#x34;"),n(t,"'","&#x27;"),n(t,"/","&#x2F;"),t);return" ".concat(e).replace(/[&<>"\/]/g,function(e){return r[e]})}}}}};exports.appCode=s;
},{"./appCode.styles":"iXmX","./appCode.template":"iElu","highlight.js/lib/core":"afUf","highlight.js/lib/languages/javascript":"c3te","highlight.js/lib/languages/xml":"mhlv","highlight.js/lib/languages/css":"ZAli","../../assets/editor.theme.css":"Nbu3"}],"NVNB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.appView=void 0;var e=a(require("./appView.template")),t=a(require("./appView.styles")),p=require("../../../store"),r=require("../appTitle/appTitle.component"),o=require("../appCode/appCode.component");function a(e){return e&&e.__esModule?e:{default:e}}var n=function(){return{tagName:"app-view",state:p.store.get(),template:e.default,styles:t.default,children:function(){return{appTitle:r.appTitle,appCode:o.appCode}},methods:function(){return{htmlEncode:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#x27;","`":"&#x96",$:"&#x36","/":"&#x2F;"},p=" ".concat(e).replace(/[&<>"'`$\/]/g,function(e){return t[e]});return console.log(p),p}}}}};exports.appView=n;
},{"./appView.template":"YEuU","./appView.styles":"HJ3o","../../../store":"iz0v","../appTitle/appTitle.component":"ZV0J","../appCode/appCode.component":"fJIt"}],"VIvw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.appHome=void 0;var e=o(require("./appHome.template")),t=o(require("./appHome.styles")),p=require("../../../store"),r=require("../appTitle/appTitle.component"),a=require("../appView/appView.component");function o(e){return e&&e.__esModule?e:{default:e}}var i=function(){return{tagName:"app-home",state:p.store.get().introduction,template:e.default,styles:t.default,children:function(){return{appTitle:r.appTitle,appView:a.appView}}}};exports.appHome=i;
},{"./appHome.template":"UIU6","./appHome.styles":"DpH1","../../../store":"iz0v","../appTitle/appTitle.component":"ZV0J","../appView/appView.component":"NVNB"}],"fEqt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.appNotFound=void 0;var t=function(){return{state:{title:"Not Found!"},template:function(t){t.props;var e=t.state;return'\n    <div class="wrapper">\n        <h1 class="title">'.concat(e.title,'</h1>\n        <a href="#/">voltar</a>\n    </div>\n    ')},styles:function(){return"\n        app-not-found .wrapper { text-align:center }\n        app-not-found .title { color: red }\n    "}}};exports.appNotFound=t;
},{}],"LZQw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){e.props,e.state;return'\n        <div class="store-wrapper">\n            <div class="container">\n                <app-view data-props="{\'section\':\'store\'}"></app-view>\n            </div>\n        </div>\n    '};exports.default=e;
},{}],"fpu4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(){return"\n        app-store .store-wrapper {\n            display:block;\n            float:left;\n            width:100%;\n        }\n\n        app-store .container {\n            display:block;\n            width:100%;\n            max-width:1180px;\n            padding:15px;\n            margin:0 auto;\n        }\n\n        app-store .container::after {\n            content:'';\n            display:block;\n            float:left;\n            width:100%;\n        }\n    "};exports.default=n;
},{}],"IYX3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.appStore=void 0;var e=o(require("./appStore.template")),t=o(require("./appStore.styles")),p=require("../appTitle/appTitle.component"),r=require("../appView/appView.component"),a=require("../../../store");function o(e){return e&&e.__esModule?e:{default:e}}var i=function(){return{tagName:"app-store",state:a.store.get(),template:e.default,styles:t.default,children:function(){return{appTitle:p.appTitle,appView:r.appView}}}};exports.appStore=i;
},{"./appStore.template":"LZQw","./appStore.styles":"fpu4","../appTitle/appTitle.component":"ZV0J","../appView/appView.component":"NVNB","../../../store":"iz0v"}],"W8TW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){e.props,e.state;return'\n        <div class="store-wrapper">\n            <div class="container">\n                <app-view data-props="{\'section\':\'tutorial\'}"></app-view>\n            </div>\n        </div>\n    '};exports.default=e;
},{}],"dNIy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.appTutorial=void 0;var e=i(require("./appTutorial.template")),t=i(require("./appTutorial.styles")),p=require("../appTitle/appTitle.component"),r=require("../appView/appView.component"),a=require("../../../store");function i(e){return e&&e.__esModule?e:{default:e}}var u=function(){return{tagName:"app-tutorial",state:a.store.get(),template:e.default,styles:t.default,children:function(){return{appTitle:p.appTitle,appView:r.appView}}}};exports.appTutorial=u;
},{"./appTutorial.template":"W8TW","./appTutorial.styles":"fpu4","../appTitle/appTitle.component":"ZV0J","../appView/appView.component":"NVNB","../../../store":"iz0v"}],"epB2":[function(require,module,exports) {
"use strict";var o=require("r9x_js"),p=require("./src/components/appMain.component"),e=require("./src/components/appHome/appHome.component"),n=require("./src/components/appNotFound.component"),t=require("./src/components/appStore/appStore.component"),r=require("./src/components/appTutorial/appTutorial.component"),a={firstRoute:{hash:"#/",component:e.appHome},defaultRoute:{hash:"#/404",component:n.appNotFound},otherRoutes:[{hashExp:/^\#\/$/,component:e.appHome},{hashExp:/^\#\/store$/,component:t.appStore},{hashExp:/^\#\/tutorial$/,component:r.appTutorial}]},s=(0,o.r9x)();s.use({main:p.appMain,routes:a}),s.init();
},{"r9x_js":"GOCc","./src/components/appMain.component":"WjgU","./src/components/appHome/appHome.component":"VIvw","./src/components/appNotFound.component":"fEqt","./src/components/appStore/appStore.component":"IYX3","./src/components/appTutorial/appTutorial.component":"dNIy"}]},{},["epB2"], null)
//# sourceMappingURL=/main.397c0553.js.map